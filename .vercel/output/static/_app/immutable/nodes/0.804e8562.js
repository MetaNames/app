import{s as Kt,r as Ir,u as qt,f as At,g as bt,h as Nt,d as J,v as Ne,i as ut,w as fe,x as $r,y as xr,z as Lr,A as Ur,B as dn,C as Ae,D as _n,E as Wr,F as vn,p as le,G as ze,o as ri,H as Mr,_ as Jt,I as qe,a as $t,c as xt,J as ni,K as Vr,l as Ce,m as De,n as ii,e as Jr,L as ue,j as tt,M as Ft,N as re,O as ne,P as vt,Q as Yr}from"../chunks/scheduler.8db5ed02.js";import{S as Qt,i as te,a as X,t as K,f as oi,b as it,d as ot,m as st,e as at,g as si,c as ai}from"../chunks/index.45923e3e.js";import{g as En,_ as Re,a as zr,M as fi,r as ui,b as li,p as wt,c as Ge,m as ci,w as me}from"../chunks/stores.f2d76d56.js";import{c as be,u as Sn,f as Bn,d as hi,a as On}from"../chunks/classAdderBuilder.915bbbff.js";import{g as pi,M as gi,C as mi,L as yi,I as Te,T as Fe,A as wi}from"../chunks/SelectionGroupIcon.2256cb7c.js";import{r as di,d as _i}from"../chunks/index.52378d56.js";import{B as vi,C as Ei}from"../chunks/Button.c751873f.js";import{g as Si}from"../chunks/navigation.3c98d03a.js";function Bi(e){let t,n,r,u,a,f;const g=e[9].default,s=Ir(g,e,e[8],null);let m=[{class:n=be({[e[1]]:!0,"mdc-top-app-bar__section":!0,"mdc-top-app-bar__section--align-start":e[2]==="start","mdc-top-app-bar__section--align-end":e[2]==="end"})},e[3]?{role:"toolbar"}:{},e[6]],h={};for(let l=0;l<m.length;l+=1)h=qt(h,m[l]);return{c(){t=At("section"),s&&s.c(),this.h()},l(l){t=bt(l,"SECTION",{class:!0});var w=Nt(t);s&&s.l(w),w.forEach(J),this.h()},h(){Ne(t,h)},m(l,w){ut(l,t,w),s&&s.m(t,null),e[10](t),u=!0,a||(f=[fe(r=Sn.call(null,t,e[0])),fe(e[5].call(null,t))],a=!0)},p(l,[w]){s&&s.p&&(!u||w&256)&&$r(s,g,l,l[8],u?Lr(g,l[8],w,null):xr(l[8]),null),Ne(t,h=En(m,[(!u||w&6&&n!==(n=be({[l[1]]:!0,"mdc-top-app-bar__section":!0,"mdc-top-app-bar__section--align-start":l[2]==="start","mdc-top-app-bar__section--align-end":l[2]==="end"})))&&{class:n},w&8&&(l[3]?{role:"toolbar"}:{}),w&64&&l[6]])),r&&Ur(r.update)&&w&1&&r.update.call(null,l[0])},i(l){u||(X(s,l),u=!0)},o(l){K(s,l),u=!1},d(l){l&&J(t),s&&s.d(l),e[10](null),a=!1,dn(f)}}}function Oi(e,t,n){const r=["use","class","align","toolbar","getElement"];let u=Ae(t,r),{$$slots:a={},$$scope:f}=t;const g=Bn(_n());let{use:s=[]}=t,{class:m=""}=t,{align:h="start"}=t,{toolbar:l=!1}=t,w;Wr("SMUI:icon-button:context",l?"top-app-bar:action":"top-app-bar:navigation"),Wr("SMUI:button:context",l?"top-app-bar:action":"top-app-bar:navigation");function S(){return w}function A(O){le[O?"unshift":"push"](()=>{w=O,n(4,w)})}return e.$$set=O=>{t=qt(qt({},t),vn(O)),n(6,u=Ae(t,r)),"use"in O&&n(0,s=O.use),"class"in O&&n(1,m=O.class),"align"in O&&n(2,h=O.align),"toolbar"in O&&n(3,l=O.toolbar),"$$scope"in O&&n(8,f=O.$$scope)},[s,m,h,l,w,g,u,S,f,a,A]}class qr extends Qt{constructor(t){super(),te(this,t,Oi,Bi,Kt,{use:0,class:1,align:2,toolbar:3,getElement:7})}get getElement(){return this.$$.ctx[7]}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Rt={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},Ee={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},Ni={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Cr=function(e){Re(t,e);function t(n){return e.call(this,zr(zr({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"strings",{get:function(){return Ni},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Rt},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Ee},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.handleTargetScroll=function(){},t.prototype.handleWindowResize=function(){},t.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},t}(fi);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ye=0,Br=function(e){Re(t,e);function t(n){var r=e.call(this,n)||this;return r.wasDocked=!0,r.isDockedShowing=!0,r.currentAppBarOffsetTop=0,r.isCurrentlyBeingResized=!1,r.resizeThrottleId=ye,r.resizeDebounceId=ye,r.lastScrollPosition=r.adapter.getViewportScrollY(),r.topAppBarHeight=r.adapter.getTopAppBarHeight(),r}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.adapter.setStyle("top","")},t.prototype.handleTargetScroll=function(){var n=Math.max(this.adapter.getViewportScrollY(),0),r=n-this.lastScrollPosition;this.lastScrollPosition=n,this.isCurrentlyBeingResized||(this.currentAppBarOffsetTop-=r,this.currentAppBarOffsetTop>0?this.currentAppBarOffsetTop=0:Math.abs(this.currentAppBarOffsetTop)>this.topAppBarHeight&&(this.currentAppBarOffsetTop=-this.topAppBarHeight),this.moveTopAppBar())},t.prototype.handleWindowResize=function(){var n=this;this.resizeThrottleId||(this.resizeThrottleId=setTimeout(function(){n.resizeThrottleId=ye,n.throttledResizeHandler()},Ee.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized=!0,this.resizeDebounceId&&clearTimeout(this.resizeDebounceId),this.resizeDebounceId=setTimeout(function(){n.handleTargetScroll(),n.isCurrentlyBeingResized=!1,n.resizeDebounceId=ye},Ee.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},t.prototype.checkForUpdate=function(){var n=-this.topAppBarHeight,r=this.currentAppBarOffsetTop<0,u=this.currentAppBarOffsetTop>n,a=r&&u;if(a)this.wasDocked=!1;else if(this.wasDocked){if(this.isDockedShowing!==u)return this.isDockedShowing=u,!0}else return this.wasDocked=!0,!0;return a},t.prototype.moveTopAppBar=function(){if(this.checkForUpdate()){var n=this.currentAppBarOffsetTop;Math.abs(n)>=this.topAppBarHeight&&(n=-Ee.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",n+"px")}},t.prototype.throttledResizeHandler=function(){var n=this.adapter.getTopAppBarHeight();this.topAppBarHeight!==n&&(this.wasDocked=!1,this.currentAppBarOffsetTop-=this.topAppBarHeight-n,this.topAppBarHeight=n),this.handleTargetScroll()},t}(Cr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ai=function(e){Re(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.wasScrolled=!1,n}return t.prototype.handleTargetScroll=function(){var n=this.adapter.getViewportScrollY();n<=0?this.wasScrolled&&(this.adapter.removeClass(Rt.FIXED_SCROLLED_CLASS),this.wasScrolled=!1):this.wasScrolled||(this.adapter.addClass(Rt.FIXED_SCROLLED_CLASS),this.wasScrolled=!0)},t}(Br);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var bi=function(e){Re(t,e);function t(n){var r=e.call(this,n)||this;return r.collapsed=!1,r.isAlwaysCollapsed=!1,r}return Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this.collapsed},enumerable:!1,configurable:!0}),t.prototype.init=function(){e.prototype.init.call(this),this.adapter.getTotalActionItems()>0&&this.adapter.addClass(Rt.SHORT_HAS_ACTION_ITEM_CLASS),this.setAlwaysCollapsed(this.adapter.hasClass(Rt.SHORT_COLLAPSED_CLASS))},t.prototype.setAlwaysCollapsed=function(n){this.isAlwaysCollapsed=!!n,this.isAlwaysCollapsed?this.collapse():this.maybeCollapseBar()},t.prototype.getAlwaysCollapsed=function(){return this.isAlwaysCollapsed},t.prototype.handleTargetScroll=function(){this.maybeCollapseBar()},t.prototype.maybeCollapseBar=function(){if(!this.isAlwaysCollapsed){var n=this.adapter.getViewportScrollY();n<=0?this.collapsed&&this.uncollapse():this.collapsed||this.collapse()}},t.prototype.uncollapse=function(){this.adapter.removeClass(Rt.SHORT_COLLAPSED_CLASS),this.collapsed=!1},t.prototype.collapse=function(){this.adapter.addClass(Rt.SHORT_COLLAPSED_CLASS),this.collapsed=!0},t}(Cr);const{window:Gr}=pi;function Ti(e){let t,n,r,u,a,f,g;const s=e[22].default,m=Ir(s,e,e[21],null);let h=[{class:n=be({[e[2]]:!0,"mdc-top-app-bar":!0,"mdc-top-app-bar--short":e[4]==="short","mdc-top-app-bar--short-collapsed":e[0],"mdc-top-app-bar--fixed":e[4]==="fixed","smui-top-app-bar--static":e[4]==="static","smui-top-app-bar--color-secondary":e[5]==="secondary","mdc-top-app-bar--prominent":e[6],"mdc-top-app-bar--dense":e[7],...e[11]})},{style:r=Object.entries(e[12]).map(Zr).concat([e[3]]).join(" ")},e[15]],l={};for(let w=0;w<h.length;w+=1)l=qt(l,h[w]);return{c(){t=At("header"),m&&m.c(),this.h()},l(w){t=bt(w,"HEADER",{class:!0,style:!0});var S=Nt(t);m&&m.l(S),S.forEach(J),this.h()},h(){Ne(t,l)},m(w,S){ut(w,t,S),m&&m.m(t,null),e[25](t),a=!0,f||(g=[ze(Gr,"resize",e[23]),ze(Gr,"scroll",e[24]),fe(u=Sn.call(null,t,e[1])),fe(e[13].call(null,t)),ze(t,"SMUITopAppBarIconButton:nav",e[26])],f=!0)},p(w,S){m&&m.p&&(!a||S[0]&2097152)&&$r(m,s,w,w[21],a?Lr(s,w[21],S,null):xr(w[21]),null),Ne(t,l=En(h,[(!a||S[0]&2293&&n!==(n=be({[w[2]]:!0,"mdc-top-app-bar":!0,"mdc-top-app-bar--short":w[4]==="short","mdc-top-app-bar--short-collapsed":w[0],"mdc-top-app-bar--fixed":w[4]==="fixed","smui-top-app-bar--static":w[4]==="static","smui-top-app-bar--color-secondary":w[5]==="secondary","mdc-top-app-bar--prominent":w[6],"mdc-top-app-bar--dense":w[7],...w[11]})))&&{class:n},(!a||S[0]&4104&&r!==(r=Object.entries(w[12]).map(Zr).concat([w[3]]).join(" ")))&&{style:r},S[0]&32768&&w[15]])),u&&Ur(u.update)&&S[0]&2&&u.update.call(null,w[1])},i(w){a||(X(m,w),a=!0)},o(w){K(m,w),a=!1},d(w){w&&J(t),m&&m.d(w),e[25](null),f=!1,dn(g)}}}const Zr=([e,t])=>`${e}: ${t};`;function Ii(e,t,n){const r=["use","class","style","variant","color","collapsed","prominent","dense","scrollTarget","getPropStore","getElement"];let u=Ae(t,r),{$$slots:a={},$$scope:f}=t;const g=Bn(_n());let s=()=>{};function m(b){return b===s}let{use:h=[]}=t,{class:l=""}=t,{style:w=""}=t,{variant:S="standard"}=t,{color:A="primary"}=t,{collapsed:O=s}=t;const I=!m(O)&&!!O;m(O)&&(O=!1);let{prominent:C=!1}=t,{dense:P=!1}=t,{scrollTarget:H=void 0}=t,N,R,Y={},W={},ht,Et=di({variant:S,prominent:C,dense:P},b=>{n(18,ht=b)}),lt,yt=S;ri(()=>(n(9,R=F()),R.init(),()=>{R.destroy()}));function F(){const b={static:Cr,short:bi,fixed:Ai,standard:Br}[S]||Br;return new b({hasClass:U,addClass:et,removeClass:ft,setStyle:M,getTopAppBarHeight:()=>N.clientHeight,notifyNavigationIconClicked:()=>hi(N,"SMUITopAppBar:nav",void 0,void 0,!0),getViewportScrollY:()=>H==null?window.pageYOffset:H.scrollTop,getTotalActionItems:()=>N.querySelectorAll(".mdc-top-app-bar__action-item").length})}function U(b){return b in Y?Y[b]:d().classList.contains(b)}function et(b){Y[b]||n(11,Y[b]=!0,Y)}function ft(b){(!(b in Y)||Y[b])&&n(11,Y[b]=!1,Y)}function M(b,rt){W[b]!=rt&&(rt===""||rt==null?(delete W[b],n(12,W),n(20,yt),n(4,S),n(9,R)):n(12,W[b]=rt,W))}function x(){R&&(R.handleTargetScroll(),S==="short"&&n(0,O="isCollapsed"in R&&R.isCollapsed))}function v(){return Et}function d(){return N}const _=()=>S!=="short"&&S!=="fixed"&&R&&R.handleWindowResize(),T=()=>H==null&&x();function $(b){le[b?"unshift":"push"](()=>{N=b,n(10,N)})}const G=()=>R&&R.handleNavigationClick();return e.$$set=b=>{t=qt(qt({},t),vn(b)),n(15,u=Ae(t,r)),"use"in b&&n(1,h=b.use),"class"in b&&n(2,l=b.class),"style"in b&&n(3,w=b.style),"variant"in b&&n(4,S=b.variant),"color"in b&&n(5,A=b.color),"collapsed"in b&&n(0,O=b.collapsed),"prominent"in b&&n(6,C=b.prominent),"dense"in b&&n(7,P=b.dense),"scrollTarget"in b&&n(8,H=b.scrollTarget),"$$scope"in b&&n(21,f=b.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&262352&&ht&&ht({variant:S,prominent:C,dense:P}),e.$$.dirty[0]&1049104&&yt!==S&&R&&(n(20,yt=S),R.destroy(),n(11,Y={}),n(12,W={}),n(9,R=F()),R.init()),e.$$.dirty[0]&528&&R&&S==="short"&&"setAlwaysCollapsed"in R&&R.setAlwaysCollapsed(I),e.$$.dirty[0]&524544&&lt!==H&&(lt&&lt.removeEventListener("scroll",x),H&&H.addEventListener("scroll",x),n(19,lt=H))},[O,h,l,w,S,A,C,P,H,R,N,Y,W,g,x,u,v,d,ht,lt,yt,f,a,_,T,$,G]}class $i extends Qt{constructor(t){super(),te(this,t,Ii,Ti,Kt,{use:1,class:2,style:3,variant:4,color:5,collapsed:0,prominent:6,dense:7,scrollTarget:8,getPropStore:16,getElement:17},null,[-1,-1])}get getPropStore(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}const xi=On({class:"mdc-top-app-bar__row",tag:"div"}),Li=On({class:"mdc-top-app-bar__title",tag:"span"});var Ui=ui();const Mi=Mr(Ui);function Ci(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Di=ki,Ri=Wi,Fi=Yi,It=[],Ot=[],ji=typeof Uint8Array<"u"?Uint8Array:Array,Ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ht=0,Pi=Ze.length;Ht<Pi;++Ht)It[Ht]=Ze[Ht],Ot[Ze.charCodeAt(Ht)]=Ht;Ot["-".charCodeAt(0)]=62;Ot["_".charCodeAt(0)]=63;function Nn(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function ki(e){var t=Nn(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Hi(e,t,n){return(t+n)*3/4-n}function Wi(e){var t,n=Nn(e),r=n[0],u=n[1],a=new ji(Hi(e,r,u)),f=0,g=u>0?r-4:r,s;for(s=0;s<g;s+=4)t=Ot[e.charCodeAt(s)]<<18|Ot[e.charCodeAt(s+1)]<<12|Ot[e.charCodeAt(s+2)]<<6|Ot[e.charCodeAt(s+3)],a[f++]=t>>16&255,a[f++]=t>>8&255,a[f++]=t&255;return u===2&&(t=Ot[e.charCodeAt(s)]<<2|Ot[e.charCodeAt(s+1)]>>4,a[f++]=t&255),u===1&&(t=Ot[e.charCodeAt(s)]<<10|Ot[e.charCodeAt(s+1)]<<4|Ot[e.charCodeAt(s+2)]>>2,a[f++]=t>>8&255,a[f++]=t&255),a}function Vi(e){return It[e>>18&63]+It[e>>12&63]+It[e>>6&63]+It[e&63]}function Ji(e,t,n){for(var r,u=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),u.push(Vi(r));return u.join("")}function Yi(e){for(var t,n=e.length,r=n%3,u=[],a=16383,f=0,g=n-r;f<g;f+=a)u.push(Ji(e,f,f+a>g?g:f+a));return r===1?(t=e[n-1],u.push(It[t>>2]+It[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],u.push(It[t>>10]+It[t>>4&63]+It[t<<2&63]+"=")),u.join("")}var Xe={byteLength:Di,toByteArray:Ri,fromByteArray:Fi};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var zi=function(t,n,r,u,a){var f,g,s=a*8-u-1,m=(1<<s)-1,h=m>>1,l=-7,w=r?a-1:0,S=r?-1:1,A=t[n+w];for(w+=S,f=A&(1<<-l)-1,A>>=-l,l+=s;l>0;f=f*256+t[n+w],w+=S,l-=8);for(g=f&(1<<-l)-1,f>>=-l,l+=u;l>0;g=g*256+t[n+w],w+=S,l-=8);if(f===0)f=1-h;else{if(f===m)return g?NaN:(A?-1:1)*(1/0);g=g+Math.pow(2,u),f=f-h}return(A?-1:1)*g*Math.pow(2,f-u)},qi=function(t,n,r,u,a,f){var g,s,m,h=f*8-a-1,l=(1<<h)-1,w=l>>1,S=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=u?0:f-1,O=u?1:-1,I=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,g=l):(g=Math.floor(Math.log(n)/Math.LN2),n*(m=Math.pow(2,-g))<1&&(g--,m*=2),g+w>=1?n+=S/m:n+=S*Math.pow(2,1-w),n*m>=2&&(g++,m/=2),g+w>=l?(s=0,g=l):g+w>=1?(s=(n*m-1)*Math.pow(2,a),g=g+w):(s=n*Math.pow(2,w-1)*Math.pow(2,a),g=0));a>=8;t[r+A]=s&255,A+=O,s/=256,a-=8);for(g=g<<a|s,h+=a;h>0;t[r+A]=g&255,A+=O,g/=256,h-=8);t[r+A-O]|=I*128},Wt={read:zi,write:qi},je=Ci(function(e,t){var n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var r=2147483647;t.kMaxLength=r,f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var c=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(c,i),c.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function a(c){if(c>r)throw new RangeError('The value "'+c+'" is invalid for option "size"');var i=new Uint8Array(c);return Object.setPrototypeOf(i,f.prototype),i}function f(c,i,o){if(typeof c=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(c)}return g(c,i,o)}f.poolSize=8192;function g(c,i,o){if(typeof c=="string")return l(c,i);if(ArrayBuffer.isView(c))return S(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(c));if(ct(c,ArrayBuffer)||c&&ct(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(c,SharedArrayBuffer)||c&&ct(c.buffer,SharedArrayBuffer)))return A(c,i,o);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=c.valueOf&&c.valueOf();if(p!=null&&p!==c)return f.from(p,i,o);var y=O(c);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return f.from(c[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(c))}f.from=function(c,i,o){return g(c,i,o)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function s(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function m(c,i,o){return s(c),c<=0?a(c):i!==void 0?typeof o=="string"?a(c).fill(i,o):a(c).fill(i):a(c)}f.alloc=function(c,i,o){return m(c,i,o)};function h(c){return s(c),a(c<0?0:I(c)|0)}f.allocUnsafe=function(c){return h(c)},f.allocUnsafeSlow=function(c){return h(c)};function l(c,i){if((typeof i!="string"||i==="")&&(i="utf8"),!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var o=P(c,i)|0,p=a(o),y=p.write(c,i);return y!==o&&(p=p.slice(0,y)),p}function w(c){for(var i=c.length<0?0:I(c.length)|0,o=a(i),p=0;p<i;p+=1)o[p]=c[p]&255;return o}function S(c){if(ct(c,Uint8Array)){var i=new Uint8Array(c);return A(i.buffer,i.byteOffset,i.byteLength)}return w(c)}function A(c,i,o){if(i<0||c.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');var p;return i===void 0&&o===void 0?p=new Uint8Array(c):o===void 0?p=new Uint8Array(c,i):p=new Uint8Array(c,i,o),Object.setPrototypeOf(p,f.prototype),p}function O(c){if(f.isBuffer(c)){var i=I(c.length)|0,o=a(i);return o.length===0||c.copy(o,0,0,i),o}if(c.length!==void 0)return typeof c.length!="number"||kt(c.length)?a(0):w(c);if(c.type==="Buffer"&&Array.isArray(c.data))return w(c.data)}function I(c){if(c>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return c|0}function C(c){return+c!=c&&(c=0),f.alloc(+c)}f.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==f.prototype},f.compare=function(i,o){if(ct(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),ct(o,Uint8Array)&&(o=f.from(o,o.offset,o.byteLength)),!f.isBuffer(i)||!f.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;for(var p=i.length,y=o.length,E=0,B=Math.min(p,y);E<B;++E)if(i[E]!==o[E]){p=i[E],y=o[E];break}return p<y?-1:y<p?1:0},f.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return f.alloc(0);var p;if(o===void 0)for(o=0,p=0;p<i.length;++p)o+=i[p].length;var y=f.allocUnsafe(o),E=0;for(p=0;p<i.length;++p){var B=i[p];if(ct(B,Uint8Array))E+B.length>y.length?f.from(B).copy(y,E):Uint8Array.prototype.set.call(y,B,E);else if(f.isBuffer(B))B.copy(y,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=B.length}return y};function P(c,i){if(f.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||ct(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(c));var o=c.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&o===0)return 0;for(var y=!1;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return Q(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return q(c).length;default:if(y)return p?-1:Q(c).length;i=(""+i).toLowerCase(),y=!0}}f.byteLength=P;function H(c,i,o){var p=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(c||(c="utf8");;)switch(c){case"hex":return v(this,i,o);case"utf8":case"utf-8":return U(this,i,o);case"ascii":return M(this,i,o);case"latin1":case"binary":return x(this,i,o);case"base64":return F(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,i,o);default:if(p)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),p=!0}}f.prototype._isBuffer=!0;function N(c,i,o){var p=c[i];c[i]=c[o],c[o]=p}f.prototype.swap16=function(){var i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<i;o+=2)N(this,o,o+1);return this},f.prototype.swap32=function(){var i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<i;o+=4)N(this,o,o+3),N(this,o+1,o+2);return this},f.prototype.swap64=function(){var i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<i;o+=8)N(this,o,o+7),N(this,o+1,o+6),N(this,o+2,o+5),N(this,o+3,o+4);return this},f.prototype.toString=function(){var i=this.length;return i===0?"":arguments.length===0?U(this,0,i):H.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(i){if(!f.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:f.compare(this,i)===0},f.prototype.inspect=function(){var i="",o=t.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(i,o,p,y,E){if(ct(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),!f.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(i));if(o===void 0&&(o=0),p===void 0&&(p=i?i.length:0),y===void 0&&(y=0),E===void 0&&(E=this.length),o<0||p>i.length||y<0||E>this.length)throw new RangeError("out of range index");if(y>=E&&o>=p)return 0;if(y>=E)return-1;if(o>=p)return 1;if(o>>>=0,p>>>=0,y>>>=0,E>>>=0,this===i)return 0;for(var B=E-y,k=p-o,V=Math.min(B,k),Z=this.slice(y,E),gt=i.slice(o,p),nt=0;nt<V;++nt)if(Z[nt]!==gt[nt]){B=Z[nt],k=gt[nt];break}return B<k?-1:k<B?1:0};function R(c,i,o,p,y){if(c.length===0)return-1;if(typeof o=="string"?(p=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,kt(o)&&(o=y?0:c.length-1),o<0&&(o=c.length+o),o>=c.length){if(y)return-1;o=c.length-1}else if(o<0)if(y)o=0;else return-1;if(typeof i=="string"&&(i=f.from(i,p)),f.isBuffer(i))return i.length===0?-1:Y(c,i,o,p,y);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(c,i,o):Uint8Array.prototype.lastIndexOf.call(c,i,o):Y(c,[i],o,p,y);throw new TypeError("val must be string, number or Buffer")}function Y(c,i,o,p,y){var E=1,B=c.length,k=i.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(c.length<2||i.length<2)return-1;E=2,B/=2,k/=2,o/=2}function V(kr,Hr){return E===1?kr[Hr]:kr.readUInt16BE(Hr*E)}var Z;if(y){var gt=-1;for(Z=o;Z<B;Z++)if(V(c,Z)===V(i,gt===-1?0:Z-gt)){if(gt===-1&&(gt=Z),Z-gt+1===k)return gt*E}else gt!==-1&&(Z-=Z-gt),gt=-1}else for(o+k>B&&(o=B-k),Z=o;Z>=0;Z--){for(var nt=!0,ge=0;ge<k;ge++)if(V(c,Z+ge)!==V(i,ge)){nt=!1;break}if(nt)return Z}return-1}f.prototype.includes=function(i,o,p){return this.indexOf(i,o,p)!==-1},f.prototype.indexOf=function(i,o,p){return R(this,i,o,p,!0)},f.prototype.lastIndexOf=function(i,o,p){return R(this,i,o,p,!1)};function W(c,i,o,p){o=Number(o)||0;var y=c.length-o;p?(p=Number(p),p>y&&(p=y)):p=y;var E=i.length;p>E/2&&(p=E/2);for(var B=0;B<p;++B){var k=parseInt(i.substr(B*2,2),16);if(kt(k))return B;c[o+B]=k}return B}function ht(c,i,o,p){return Lt(Q(i,c.length-o),c,o,p)}function Et(c,i,o,p){return Lt(Ut(i),c,o,p)}function lt(c,i,o,p){return Lt(q(i),c,o,p)}function yt(c,i,o,p){return Lt(St(i,c.length-o),c,o,p)}f.prototype.write=function(i,o,p,y){if(o===void 0)y="utf8",p=this.length,o=0;else if(p===void 0&&typeof o=="string")y=o,p=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(p)?(p=p>>>0,y===void 0&&(y="utf8")):(y=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var E=this.length-o;if((p===void 0||p>E)&&(p=E),i.length>0&&(p<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");for(var B=!1;;)switch(y){case"hex":return W(this,i,o,p);case"utf8":case"utf-8":return ht(this,i,o,p);case"ascii":case"latin1":case"binary":return Et(this,i,o,p);case"base64":return lt(this,i,o,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,i,o,p);default:if(B)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),B=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(c,i,o){return i===0&&o===c.length?Xe.fromByteArray(c):Xe.fromByteArray(c.slice(i,o))}function U(c,i,o){o=Math.min(c.length,o);for(var p=[],y=i;y<o;){var E=c[y],B=null,k=E>239?4:E>223?3:E>191?2:1;if(y+k<=o){var V,Z,gt,nt;switch(k){case 1:E<128&&(B=E);break;case 2:V=c[y+1],(V&192)===128&&(nt=(E&31)<<6|V&63,nt>127&&(B=nt));break;case 3:V=c[y+1],Z=c[y+2],(V&192)===128&&(Z&192)===128&&(nt=(E&15)<<12|(V&63)<<6|Z&63,nt>2047&&(nt<55296||nt>57343)&&(B=nt));break;case 4:V=c[y+1],Z=c[y+2],gt=c[y+3],(V&192)===128&&(Z&192)===128&&(gt&192)===128&&(nt=(E&15)<<18|(V&63)<<12|(Z&63)<<6|gt&63,nt>65535&&nt<1114112&&(B=nt))}}B===null?(B=65533,k=1):B>65535&&(B-=65536,p.push(B>>>10&1023|55296),B=56320|B&1023),p.push(B),y+=k}return ft(p)}var et=4096;function ft(c){var i=c.length;if(i<=et)return String.fromCharCode.apply(String,c);for(var o="",p=0;p<i;)o+=String.fromCharCode.apply(String,c.slice(p,p+=et));return o}function M(c,i,o){var p="";o=Math.min(c.length,o);for(var y=i;y<o;++y)p+=String.fromCharCode(c[y]&127);return p}function x(c,i,o){var p="";o=Math.min(c.length,o);for(var y=i;y<o;++y)p+=String.fromCharCode(c[y]);return p}function v(c,i,o){var p=c.length;(!i||i<0)&&(i=0),(!o||o<0||o>p)&&(o=p);for(var y="",E=i;E<o;++E)y+=ee[c[E]];return y}function d(c,i,o){for(var p=c.slice(i,o),y="",E=0;E<p.length-1;E+=2)y+=String.fromCharCode(p[E]+p[E+1]*256);return y}f.prototype.slice=function(i,o){var p=this.length;i=~~i,o=o===void 0?p:~~o,i<0?(i+=p,i<0&&(i=0)):i>p&&(i=p),o<0?(o+=p,o<0&&(o=0)):o>p&&(o=p),o<i&&(o=i);var y=this.subarray(i,o);return Object.setPrototypeOf(y,f.prototype),y};function _(c,i,o){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+i>o)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(i,o,p){i=i>>>0,o=o>>>0,p||_(i,o,this.length);for(var y=this[i],E=1,B=0;++B<o&&(E*=256);)y+=this[i+B]*E;return y},f.prototype.readUintBE=f.prototype.readUIntBE=function(i,o,p){i=i>>>0,o=o>>>0,p||_(i,o,this.length);for(var y=this[i+--o],E=1;o>0&&(E*=256);)y+=this[i+--o]*E;return y},f.prototype.readUint8=f.prototype.readUInt8=function(i,o){return i=i>>>0,o||_(i,1,this.length),this[i]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||_(i,2,this.length),this[i]|this[i+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||_(i,2,this.length),this[i]<<8|this[i+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||_(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||_(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},f.prototype.readIntLE=function(i,o,p){i=i>>>0,o=o>>>0,p||_(i,o,this.length);for(var y=this[i],E=1,B=0;++B<o&&(E*=256);)y+=this[i+B]*E;return E*=128,y>=E&&(y-=Math.pow(2,8*o)),y},f.prototype.readIntBE=function(i,o,p){i=i>>>0,o=o>>>0,p||_(i,o,this.length);for(var y=o,E=1,B=this[i+--y];y>0&&(E*=256);)B+=this[i+--y]*E;return E*=128,B>=E&&(B-=Math.pow(2,8*o)),B},f.prototype.readInt8=function(i,o){return i=i>>>0,o||_(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},f.prototype.readInt16LE=function(i,o){i=i>>>0,o||_(i,2,this.length);var p=this[i]|this[i+1]<<8;return p&32768?p|4294901760:p},f.prototype.readInt16BE=function(i,o){i=i>>>0,o||_(i,2,this.length);var p=this[i+1]|this[i]<<8;return p&32768?p|4294901760:p},f.prototype.readInt32LE=function(i,o){return i=i>>>0,o||_(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},f.prototype.readInt32BE=function(i,o){return i=i>>>0,o||_(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},f.prototype.readFloatLE=function(i,o){return i=i>>>0,o||_(i,4,this.length),Wt.read(this,i,!0,23,4)},f.prototype.readFloatBE=function(i,o){return i=i>>>0,o||_(i,4,this.length),Wt.read(this,i,!1,23,4)},f.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||_(i,8,this.length),Wt.read(this,i,!0,52,8)},f.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||_(i,8,this.length),Wt.read(this,i,!1,52,8)};function T(c,i,o,p,y,E){if(!f.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>y||i<E)throw new RangeError('"value" argument is out of bounds');if(o+p>c.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(i,o,p,y){if(i=+i,o=o>>>0,p=p>>>0,!y){var E=Math.pow(2,8*p)-1;T(this,i,o,p,E,0)}var B=1,k=0;for(this[o]=i&255;++k<p&&(B*=256);)this[o+k]=i/B&255;return o+p},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(i,o,p,y){if(i=+i,o=o>>>0,p=p>>>0,!y){var E=Math.pow(2,8*p)-1;T(this,i,o,p,E,0)}var B=p-1,k=1;for(this[o+B]=i&255;--B>=0&&(k*=256);)this[o+B]=i/k&255;return o+p},f.prototype.writeUint8=f.prototype.writeUInt8=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,1,255,0),this[o]=i&255,o+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},f.prototype.writeIntLE=function(i,o,p,y){if(i=+i,o=o>>>0,!y){var E=Math.pow(2,8*p-1);T(this,i,o,p,E-1,-E)}var B=0,k=1,V=0;for(this[o]=i&255;++B<p&&(k*=256);)i<0&&V===0&&this[o+B-1]!==0&&(V=1),this[o+B]=(i/k>>0)-V&255;return o+p},f.prototype.writeIntBE=function(i,o,p,y){if(i=+i,o=o>>>0,!y){var E=Math.pow(2,8*p-1);T(this,i,o,p,E-1,-E)}var B=p-1,k=1,V=0;for(this[o+B]=i&255;--B>=0&&(k*=256);)i<0&&V===0&&this[o+B+1]!==0&&(V=1),this[o+B]=(i/k>>0)-V&255;return o+p},f.prototype.writeInt8=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},f.prototype.writeInt16LE=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},f.prototype.writeInt16BE=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},f.prototype.writeInt32LE=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},f.prototype.writeInt32BE=function(i,o,p){return i=+i,o=o>>>0,p||T(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function $(c,i,o,p,y,E){if(o+p>c.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function G(c,i,o,p,y){return i=+i,o=o>>>0,y||$(c,i,o,4),Wt.write(c,i,o,p,23,4),o+4}f.prototype.writeFloatLE=function(i,o,p){return G(this,i,o,!0,p)},f.prototype.writeFloatBE=function(i,o,p){return G(this,i,o,!1,p)};function b(c,i,o,p,y){return i=+i,o=o>>>0,y||$(c,i,o,8),Wt.write(c,i,o,p,52,8),o+8}f.prototype.writeDoubleLE=function(i,o,p){return b(this,i,o,!0,p)},f.prototype.writeDoubleBE=function(i,o,p){return b(this,i,o,!1,p)},f.prototype.copy=function(i,o,p,y){if(!f.isBuffer(i))throw new TypeError("argument should be a Buffer");if(p||(p=0),!y&&y!==0&&(y=this.length),o>=i.length&&(o=i.length),o||(o=0),y>0&&y<p&&(y=p),y===p||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),i.length-o<y-p&&(y=i.length-o+p);var E=y-p;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,p,y):Uint8Array.prototype.set.call(i,this.subarray(p,y),o),E},f.prototype.fill=function(i,o,p,y){if(typeof i=="string"){if(typeof o=="string"?(y=o,o=0,p=this.length):typeof p=="string"&&(y=p,p=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!f.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(i.length===1){var E=i.charCodeAt(0);(y==="utf8"&&E<128||y==="latin1")&&(i=E)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<p)throw new RangeError("Out of range index");if(p<=o)return this;o=o>>>0,p=p===void 0?this.length:p>>>0,i||(i=0);var B;if(typeof i=="number")for(B=o;B<p;++B)this[B]=i;else{var k=f.isBuffer(i)?i:f.from(i,y),V=k.length;if(V===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(B=0;B<p-o;++B)this[B+o]=k[B%V]}return this};var rt=/[^+/0-9A-Za-z-_]/g;function pt(c){if(c=c.split("=")[0],c=c.trim().replace(rt,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function Q(c,i){i=i||1/0;for(var o,p=c.length,y=null,E=[],B=0;B<p;++B){if(o=c.charCodeAt(B),o>55295&&o<57344){if(!y){if(o>56319){(i-=3)>-1&&E.push(239,191,189);continue}else if(B+1===p){(i-=3)>-1&&E.push(239,191,189);continue}y=o;continue}if(o<56320){(i-=3)>-1&&E.push(239,191,189),y=o;continue}o=(y-55296<<10|o-56320)+65536}else y&&(i-=3)>-1&&E.push(239,191,189);if(y=null,o<128){if((i-=1)<0)break;E.push(o)}else if(o<2048){if((i-=2)<0)break;E.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;E.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;E.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return E}function Ut(c){for(var i=[],o=0;o<c.length;++o)i.push(c.charCodeAt(o)&255);return i}function St(c,i){for(var o,p,y,E=[],B=0;B<c.length&&!((i-=2)<0);++B)o=c.charCodeAt(B),p=o>>8,y=o%256,E.push(y),E.push(p);return E}function q(c){return Xe.toByteArray(pt(c))}function Lt(c,i,o,p){for(var y=0;y<p&&!(y+o>=i.length||y>=c.length);++y)i[y+o]=c[y];return y}function ct(c,i){return c instanceof i||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===i.name}function kt(c){return c!==c}var ee=function(){for(var c="0123456789abcdef",i=new Array(256),o=0;o<16;++o)for(var p=o*16,y=0;y<16;++y)i[p+y]=c[o]+c[y];return i}()}),j=je.Buffer;je.SlowBuffer;je.INSPECT_MAX_BYTES;je.kMaxLength;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Or=function(t,n){return Or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,u){r.__proto__=u}||function(r,u){for(var a in u)u.hasOwnProperty(a)&&(r[a]=u[a])},Or(t,n)};function Pe(e,t){Or(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Yt=function(){return Yt=Object.assign||function(n){for(var r,u=1,a=arguments.length;u<a;u++){r=arguments[u];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(n[f]=r[f])}return n},Yt.apply(this,arguments)},D=function(e){Pe(t,e);function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),t}(Error),z=function(e){Pe(t,e);function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),t}(TypeError);function we(e){return e&&e.Math==Math&&e}function An(){return we(typeof globalThis=="object"&&globalThis)||we(typeof window=="object"&&window)||we(typeof self=="object"&&self)||we(typeof Jt=="object"&&Jt)||Function("return this")()}function Gi(e){return e.toString().replace("function(","function (")}function Zi(){var e=An();return typeof e.navigator=="object"&&e.navigator.product==="ReactNative"}var Xi=function(t){var n=Zi()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(n);for(var r=j.alloc(t),u=0;u<t;++u)r[u]=Math.floor(Math.random()*256);return r},Ki=function(){{if(typeof window<"u"){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)return function(t){return e.getRandomValues(j.alloc(t))}}return typeof Jt<"u"&&Jt.crypto&&Jt.crypto.getRandomValues?function(t){return Jt.crypto.getRandomValues(j.alloc(t))}:Xi}},bn=Ki();function Qi(e){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(e))}function jt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function to(e){return Object.prototype.toString.call(e)==="[object BigInt64Array]"}function eo(e){return Object.prototype.toString.call(e)==="[object BigUint64Array]"}function Se(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ro(e){return Object.prototype.toString.call(e)==="[object Map]"}function Be(e){return ce(e)&&Object.prototype.toString.call(e)==="[object Date]"}function ce(e){return typeof e=="object"&&e!==null}function ke(e,t){var n=!1;function r(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];return n||(console.warn(t),n=!0),e.apply(this,u)}return r}function Gt(e){if(ArrayBuffer.isView(e))return j.from(e.buffer,e.byteOffset,e.byteLength);if(Qi(e))return j.from(e);throw new z("Must use either Buffer or TypedArray")}var no=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,Tn=function(e){return typeof e=="string"&&no.test(e)},Nr=function(e){if(!Tn(e))throw new z('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var t=e.replace(/-/g,"");return j.from(t,"hex")},Xr=function(e,t){return t===void 0&&(t=!0),t?e.toString("hex",0,4)+"-"+e.toString("hex",4,6)+"-"+e.toString("hex",6,8)+"-"+e.toString("hex",8,10)+"-"+e.toString("hex",10,16):e.toString("hex")},io=2147483647,oo=-2147483648,so=Math.pow(2,53),ao=-Math.pow(2,53),Ie=1,In=2,Dr=3,$n=4,Rr=5,fo=6,xn=7,Ln=8,Un=9,Fr=10,$e=11,uo=12,jr=13,Mn=14,Cn=15,xe=16,Dn=17,Rn=18,Fn=19,jn=255,Pn=127,lo=0,Le=4,dt=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(t!=null&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!(t instanceof ArrayBuffer)&&!Array.isArray(t))throw new z("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=n??e.BSON_BINARY_SUBTYPE_DEFAULT,t==null?(this.buffer=j.alloc(e.BUFFER_SIZE),this.position=0):(typeof t=="string"?this.buffer=j.from(t,"binary"):Array.isArray(t)?this.buffer=j.from(t):this.buffer=Gt(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if(typeof t=="string"&&t.length!==1)throw new z("only accepts single character String");if(typeof t!="number"&&t.length!==1)throw new z("only accepts single character Uint8Array or Array");var n;if(typeof t=="string"?n=t.charCodeAt(0):typeof t=="number"?n=t:n=t[0],n<0||n>255)throw new z("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=j.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}},e.prototype.write=function(t,n){if(n=typeof n=="number"?n:this.position,this.buffer.length<n+t.length){var r=j.alloc(this.buffer.length+t.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r}ArrayBuffer.isView(t)?(this.buffer.set(Gt(t),n),this.position=n+t.byteLength>this.position?n+t.length:this.position):typeof t=="string"&&(this.buffer.write(t,n,t.length,"binary"),this.position=n+t.length>this.position?n+t.length:this.position)},e.prototype.read=function(t,n){return n=n&&n>0?n:this.position,this.buffer.slice(t,t+n)},e.prototype.value=function(t){return t=!!t,t&&this.buffer.length===this.position?this.buffer:t?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(t){return this.buffer.toString(t)},e.prototype.toExtendedJSON=function(t){t=t||{};var n=this.buffer.toString("base64"),r=Number(this.sub_type).toString(16);return t.legacy?{$binary:n,$type:r.length===1?"0"+r:r}:{$binary:{base64:n,subType:r.length===1?"0"+r:r}}},e.prototype.toUUID=function(){if(this.sub_type===e.SUBTYPE_UUID)return new Kr(this.buffer.slice(0,this.position));throw new D('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(e.SUBTYPE_UUID,'" is currently supported.'))},e.fromExtendedJSON=function(t,n){n=n||{};var r,u;if("$binary"in t?n.legacy&&typeof t.$binary=="string"&&"$type"in t?(u=t.$type?parseInt(t.$type,16):0,r=j.from(t.$binary,"base64")):typeof t.$binary!="string"&&(u=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=j.from(t.$binary.base64,"base64")):"$uuid"in t&&(u=4,r=Nr(t.$uuid)),!r)throw new z("Unexpected Binary Extended JSON format ".concat(JSON.stringify(t)));return u===Le?new Kr(r):new e(r,u)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.value(!0);return'new Binary(Buffer.from("'.concat(t.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_ENCRYPTED=6,e.SUBTYPE_COLUMN=7,e.SUBTYPE_USER_DEFINED=128,e}();Object.defineProperty(dt.prototype,"_bsontype",{value:"Binary"});var Ke=16,Kr=function(e){Pe(t,e);function t(n){var r=this,u,a;if(n==null)u=t.generate();else if(n instanceof t)u=j.from(n.buffer),a=n.__id;else if(ArrayBuffer.isView(n)&&n.byteLength===Ke)u=Gt(n);else if(typeof n=="string")u=Nr(n);else throw new z("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");return r=e.call(this,u,Le)||this,r.__id=a,r}return Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer},set:function(n){this.buffer=n,t.cacheHexString&&(this.__id=Xr(n))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(n){if(n===void 0&&(n=!0),t.cacheHexString&&this.__id)return this.__id;var r=Xr(this.id,n);return t.cacheHexString&&(this.__id=r),r},t.prototype.toString=function(n){return n?this.id.toString(n):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(n){if(!n)return!1;if(n instanceof t)return n.id.equals(this.id);try{return new t(n).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new dt(this.id,dt.SUBTYPE_UUID)},t.generate=function(){var n=bn(Ke);return n[6]=n[6]&15|64,n[8]=n[8]&63|128,j.from(n)},t.isValid=function(n){return n?n instanceof t?!0:typeof n=="string"?Tn(n):jt(n)?n.length!==Ke?!1:(n[6]&240)===64&&(n[8]&128)===128:!1:!1},t.createFromHexString=function(n){var r=Nr(n);return new t(r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},t}(dt),Zt=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.code=t,this.scope=n}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.toJSON();return'new Code("'.concat(String(t.code),'"').concat(t.scope?", ".concat(JSON.stringify(t.scope)):"",")")},e}();Object.defineProperty(Zt.prototype,"_bsontype",{value:"Code"});function kn(e){return ce(e)&&e.$id!=null&&typeof e.$ref=="string"&&(e.$db==null||typeof e.$db=="string")}var Pt=function(){function e(t,n,r,u){if(!(this instanceof e))return new e(t,n,r,u);var a=t.split(".");a.length===2&&(r=a.shift(),t=a.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=u||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(t){this.collection=t},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var t=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(t.$db=this.db),t},e.prototype.toExtendedJSON=function(t){t=t||{};var n={$ref:this.collection,$id:this.oid};return t.legacy||(this.db&&(n.$db=this.db),n=Object.assign(n,this.fields)),n},e.fromExtendedJSON=function(t){var n=Object.assign({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(t),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},e}();Object.defineProperty(Pt.prototype,"_bsontype",{value:"DBRef"});var Bt=void 0;try{Bt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var Qr=65536,co=1<<24,zt=Qr*Qr,Hn=zt*zt,tn=Hn/2,en={},rn={},L=function(){function e(t,n,r){if(t===void 0&&(t=0),!(this instanceof e))return new e(t,n,r);typeof t=="bigint"?Object.assign(this,e.fromBigInt(t,!!n)):typeof t=="string"?Object.assign(this,e.fromString(t,!!n)):(this.low=t|0,this.high=n|0,this.unsigned=!!r),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,n,r){return new e(t,n,r)},e.fromInt=function(t,n){var r,u,a;return n?(t>>>=0,(a=0<=t&&t<256)&&(u=rn[t],u)?u:(r=e.fromBits(t,(t|0)<0?-1:0,!0),a&&(rn[t]=r),r)):(t|=0,(a=-128<=t&&t<128)&&(u=en[t],u)?u:(r=e.fromBits(t,t<0?-1:0,!1),a&&(en[t]=r),r))},e.fromNumber=function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=Hn)return e.MAX_UNSIGNED_VALUE}else{if(t<=-tn)return e.MIN_VALUE;if(t+1>=tn)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%zt|0,t/zt|0,n)},e.fromBigInt=function(t,n){return e.fromString(t.toString(),n)},e.fromString=function(t,n,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e.ZERO;if(typeof n=="number"?(r=n,n=!1):n=!!n,r=r||10,r<2||36<r)throw RangeError("radix");var u;if((u=t.indexOf("-"))>0)throw Error("interior hyphen");if(u===0)return e.fromString(t.substring(1),n,r).neg();for(var a=e.fromNumber(Math.pow(r,8)),f=e.ZERO,g=0;g<t.length;g+=8){var s=Math.min(8,t.length-g),m=parseInt(t.substring(g,g+s),r);if(s<8){var h=e.fromNumber(Math.pow(r,s));f=f.mul(h).add(e.fromNumber(m))}else f=f.mul(a),f=f.add(e.fromNumber(m))}return f.unsigned=n,f},e.fromBytes=function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)},e.fromBytesLE=function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},e.fromBytesBE=function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)},e.isLong=function(t){return ce(t)&&t.__isLong__===!0},e.fromValue=function(t,n){return typeof t=="number"?e.fromNumber(t,n):typeof t=="string"?e.fromString(t,n):e.fromBits(t.low,t.high,typeof n=="boolean"?n:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=this.high&65535,u=this.low>>>16,a=this.low&65535,f=t.high>>>16,g=t.high&65535,s=t.low>>>16,m=t.low&65535,h=0,l=0,w=0,S=0;return S+=a+m,w+=S>>>16,S&=65535,w+=u+s,l+=w>>>16,w&=65535,l+=r+g,h+=l>>>16,l&=65535,h+=n+f,h&=65535,e.fromBits(w<<16|S,h<<16|l,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(t){return this.compare(t)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(Bt){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?Bt.div_u:Bt.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(n,Bt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var r,u,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;a=e.UZERO}else{if(this.eq(e.MIN_VALUE)){if(t.eq(e.ONE)||t.eq(e.NEG_ONE))return e.MIN_VALUE;if(t.eq(e.MIN_VALUE))return e.ONE;var f=this.shr(1);return r=f.div(t).shl(1),r.eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(u=this.sub(t.mul(r)),a=r.add(u.div(t)),a)}else if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=e.ZERO}for(u=this;u.gte(t);){r=Math.max(1,Math.floor(u.toNumber()/t.toNumber()));for(var g=Math.ceil(Math.log(r)/Math.LN2),s=g<=48?1:Math.pow(2,g-48),m=e.fromNumber(r),h=m.mul(t);h.isNegative()||h.gt(u);)r-=s,m=e.fromNumber(r,this.unsigned),h=m.mul(t);m.isZero()&&(m=e.ONE),a=a.add(m),u=u.sub(h)}return a},e.prototype.div=function(t){return this.divide(t)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},e.prototype.eq=function(t){return this.equals(t)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t=this.high!==0?this.high:this.low,n;for(n=31;n>0&&!(t&1<<n);n--);return this.high!==0?n+33:n+1},e.prototype.greaterThan=function(t){return this.comp(t)>0},e.prototype.gt=function(t){return this.greaterThan(t)},e.prototype.greaterThanOrEqual=function(t){return this.comp(t)>=0},e.prototype.gte=function(t){return this.greaterThanOrEqual(t)},e.prototype.ge=function(t){return this.greaterThanOrEqual(t)},e.prototype.isEven=function(){return(this.low&1)===0},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return(this.low&1)===1},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return this.high===0&&this.low===0},e.prototype.lessThan=function(t){return this.comp(t)<0},e.prototype.lt=function(t){return this.lessThan(t)},e.prototype.lessThanOrEqual=function(t){return this.comp(t)<=0},e.prototype.lte=function(t){return this.lessThanOrEqual(t)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),Bt){var n=(this.unsigned?Bt.rem_u:Bt.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(n,Bt.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(t){return this.modulo(t)},e.prototype.rem=function(t){return this.modulo(t)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),Bt){var n=Bt.mul(this.low,this.high,t.low,t.high);return e.fromBits(n,Bt.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,u=this.high&65535,a=this.low>>>16,f=this.low&65535,g=t.high>>>16,s=t.high&65535,m=t.low>>>16,h=t.low&65535,l=0,w=0,S=0,A=0;return A+=f*h,S+=A>>>16,A&=65535,S+=a*h,w+=S>>>16,S&=65535,S+=f*m,w+=S>>>16,S&=65535,w+=u*h,l+=w>>>16,w&=65535,w+=a*m,l+=w>>>16,w&=65535,w+=f*s,l+=w>>>16,w&=65535,l+=r*h+u*m+a*s+f*g,l&=65535,e.fromBits(S<<16|A,l<<16|w,this.unsigned)},e.prototype.mul=function(t){return this.multiply(t)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(t){return!this.equals(t)},e.prototype.neq=function(t){return this.notEquals(t)},e.prototype.ne=function(t){return this.notEquals(t)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(t){return this.shiftLeft(t)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(t){return this.shiftRight(t)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),t&=63,t===0)return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}else return t===32?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(t){return this.shiftRightUnsigned(t)},e.prototype.shru=function(t){return this.shiftRightUnsigned(t)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(t){return this.subtract(t)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*zt+(this.low>>>0):this.high*zt+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},e.prototype.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),u=r.mul(n).sub(this);return r.toString(t)+u.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=e.fromNumber(Math.pow(t,6),this.unsigned),f=this,g="";;){var s=f.div(a),m=f.sub(s.mul(a)).toInt()>>>0,h=m.toString(t);if(f=s,f.isZero())return h+g;for(;h.length<6;)h="0"+h;g=""+h+g}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(t){return this.lessThanOrEqual(t)},e.prototype.toExtendedJSON=function(t){return t&&t.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},e.TWO_PWR_24=e.fromInt(co),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();Object.defineProperty(L.prototype,"__isLong__",{value:!0});Object.defineProperty(L.prototype,"_bsontype",{value:"Long"});var ho=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,po=/^(\+|-)?(Infinity|inf)$/i,go=/^(\+|-)?NaN$/i,ie=6111,Qe=-6176,nn=6176,mo=34,tr=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),on=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),sn=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),yo=/^([-+])?(\d+)?$/,wo=31,an=16383,_o=30,vo=31;function fn(e){return!isNaN(parseInt(e,10))}function Eo(e){var t=L.fromNumber(1e9),n=L.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new L(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function So(e,t){if(!e&&!t)return{high:L.fromNumber(0),low:L.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new L(e.getLowBits(),0),u=t.shiftRightUnsigned(32),a=new L(t.getLowBits(),0),f=n.multiply(u),g=n.multiply(a),s=r.multiply(u),m=r.multiply(a);return f=f.add(g.shiftRightUnsigned(32)),g=new L(g.getLowBits(),0).add(s).add(m.shiftRightUnsigned(32)),f=f.add(g.shiftRightUnsigned(32)),m=g.shiftLeft(32).add(new L(m.getLowBits(),0)),{high:f,low:m}}function Bo(e,t){var n=e.high>>>0,r=t.high>>>0;if(n<r)return!0;if(n===r){var u=e.low>>>0,a=t.low>>>0;if(u<a)return!0}return!1}function Vt(e,t){throw new z('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var He=function(){function e(t){if(!(this instanceof e))return new e(t);if(typeof t=="string")this.bytes=e.fromString(t).bytes;else if(jt(t)){if(t.byteLength!==16)throw new z("Decimal128 must take a Buffer of 16 bytes");this.bytes=t}else throw new z("Decimal128 must take a Buffer or string")}return e.fromString=function(t){var n=!1,r=!1,u=!1,a=0,f=0,g=0,s=0,m=0,h=[0],l=0,w=0,S=0,A=0,O=0,I=0,C=new L(0,0),P=new L(0,0),H=0,N=0;if(t.length>=7e3)throw new z(""+t+" not a valid Decimal128 string");var R=t.match(ho),Y=t.match(po),W=t.match(go);if(!R&&!Y&&!W||t.length===0)throw new z(""+t+" not a valid Decimal128 string");if(R){var ht=R[2],Et=R[4],lt=R[5],yt=R[6];Et&&yt===void 0&&Vt(t,"missing exponent power"),Et&&ht===void 0&&Vt(t,"missing exponent base"),Et===void 0&&(lt||yt)&&Vt(t,"missing e before exponent")}if((t[N]==="+"||t[N]==="-")&&(n=t[N++]==="-"),!fn(t[N])&&t[N]!=="."){if(t[N]==="i"||t[N]==="I")return new e(j.from(n?on:sn));if(t[N]==="N")return new e(j.from(tr))}for(;fn(t[N])||t[N]===".";){if(t[N]==="."){r&&Vt(t,"contains multiple periods"),r=!0,N=N+1;continue}l<34&&(t[N]!=="0"||u)&&(u||(m=f),u=!0,h[w++]=parseInt(t[N],10),l=l+1),u&&(g=g+1),r&&(s=s+1),f=f+1,N=N+1}if(r&&!f)throw new z(""+t+" not a valid Decimal128 string");if(t[N]==="e"||t[N]==="E"){var F=t.substr(++N).match(yo);if(!F||!F[2])return new e(j.from(tr));O=parseInt(F[0],10),N=N+F[0].length}if(t[N])return new e(j.from(tr));if(S=0,!l)S=0,A=0,h[0]=0,g=1,l=1,a=0;else if(A=l-1,a=g,a!==1)for(;h[m+a-1]===0;)a=a-1;for(O<=s&&s-O>16384?O=Qe:O=O-s;O>ie;){if(A=A+1,A-S>mo){var U=h.join("");if(U.match(/^0+$/)){O=ie;break}Vt(t,"overflow")}O=O-1}for(;O<Qe||l<g;){if(A===0&&a<l){O=Qe,a=0;break}if(l<g?g=g-1:A=A-1,O<ie)O=O+1;else{var U=h.join("");if(U.match(/^0+$/)){O=ie;break}Vt(t,"overflow")}}if(A-S+1<a){var et=f;r&&(m=m+1,et=et+1),n&&(m=m+1,et=et+1);var ft=parseInt(t[m+A+1],10),M=0;if(ft>=5&&(M=1,ft===5)){for(M=h[A]%2===1?1:0,I=m+A+2;I<et;I++)if(parseInt(t[I],10)){M=1;break}}if(M){for(var x=A;x>=0;x--)if(++h[x]>9&&(h[x]=0,x===0))if(O<ie)O=O+1,h[x]=1;else return new e(j.from(n?on:sn))}}if(C=L.fromNumber(0),P=L.fromNumber(0),a===0)C=L.fromNumber(0),P=L.fromNumber(0);else if(A-S<17){var x=S;for(P=L.fromNumber(h[x++]),C=new L(0,0);x<=A;x++)P=P.multiply(L.fromNumber(10)),P=P.add(L.fromNumber(h[x]))}else{var x=S;for(C=L.fromNumber(h[x++]);x<=A-17;x++)C=C.multiply(L.fromNumber(10)),C=C.add(L.fromNumber(h[x]));for(P=L.fromNumber(h[x++]);x<=A;x++)P=P.multiply(L.fromNumber(10)),P=P.add(L.fromNumber(h[x]))}var v=So(C,L.fromString("100000000000000000"));v.low=v.low.add(P),Bo(v.low,P)&&(v.high=v.high.add(L.fromNumber(1))),H=O+nn;var d={low:L.fromNumber(0),high:L.fromNumber(0)};v.high.shiftRightUnsigned(49).and(L.fromNumber(1)).equals(L.fromNumber(1))?(d.high=d.high.or(L.fromNumber(3).shiftLeft(61)),d.high=d.high.or(L.fromNumber(H).and(L.fromNumber(16383).shiftLeft(47))),d.high=d.high.or(v.high.and(L.fromNumber(0x7fffffffffff)))):(d.high=d.high.or(L.fromNumber(H&16383).shiftLeft(49)),d.high=d.high.or(v.high.and(L.fromNumber(562949953421311)))),d.low=v.low,n&&(d.high=d.high.or(L.fromString("9223372036854775808")));var _=j.alloc(16);return N=0,_[N++]=d.low.low&255,_[N++]=d.low.low>>8&255,_[N++]=d.low.low>>16&255,_[N++]=d.low.low>>24&255,_[N++]=d.low.high&255,_[N++]=d.low.high>>8&255,_[N++]=d.low.high>>16&255,_[N++]=d.low.high>>24&255,_[N++]=d.high.low&255,_[N++]=d.high.low>>8&255,_[N++]=d.high.low>>16&255,_[N++]=d.high.low>>24&255,_[N++]=d.high.high&255,_[N++]=d.high.high>>8&255,_[N++]=d.high.high>>16&255,_[N++]=d.high.high>>24&255,new e(_)},e.prototype.toString=function(){for(var t,n=0,r=new Array(36),u=0;u<r.length;u++)r[u]=0;var a=0,f=!1,g,s={parts:[0,0,0,0]},m,h,l=[];a=0;var w=this.bytes,S=w[a++]|w[a++]<<8|w[a++]<<16|w[a++]<<24,A=w[a++]|w[a++]<<8|w[a++]<<16|w[a++]<<24,O=w[a++]|w[a++]<<8|w[a++]<<16|w[a++]<<24,I=w[a++]|w[a++]<<8|w[a++]<<16|w[a++]<<24;a=0;var C={low:new L(S,A),high:new L(O,I)};C.high.lessThan(L.ZERO)&&l.push("-");var P=I>>26&wo;if(P>>3===3){if(P===_o)return l.join("")+"Infinity";if(P===vo)return"NaN";t=I>>15&an,g=8+(I>>14&1)}else g=I>>14&7,t=I>>17&an;var H=t-nn;if(s.parts[0]=(I&16383)+((g&15)<<14),s.parts[1]=O,s.parts[2]=A,s.parts[3]=S,s.parts[0]===0&&s.parts[1]===0&&s.parts[2]===0&&s.parts[3]===0)f=!0;else for(h=3;h>=0;h--){var N=0,R=Eo(s);if(s=R.quotient,N=R.rem.low,!!N)for(m=8;m>=0;m--)r[h*9+m]=N%10,N=Math.floor(N/10)}if(f)n=1,r[a]=0;else for(n=36;!r[a];)n=n-1,a=a+1;var Y=n-1+H;if(Y>=34||Y<=-7||H>0){if(n>34)return l.push("".concat(0)),H>0?l.push("E+".concat(H)):H<0&&l.push("E".concat(H)),l.join("");l.push("".concat(r[a++])),n=n-1,n&&l.push(".");for(var u=0;u<n;u++)l.push("".concat(r[a++]));l.push("E"),Y>0?l.push("+".concat(Y)):l.push("".concat(Y))}else if(H>=0)for(var u=0;u<n;u++)l.push("".concat(r[a++]));else{var W=n+H;if(W>0)for(var u=0;u<W;u++)l.push("".concat(r[a++]));else l.push("0");for(l.push(".");W++<0;)l.push("0");for(var u=0;u<n-Math.max(W-1,0);u++)l.push("".concat(r[a++]))}return l.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},e}();Object.defineProperty(He.prototype,"_bsontype",{value:"Decimal128"});var he=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toString=function(t){return this.value.toString(t)},e.prototype.toExtendedJSON=function(t){return t&&(t.legacy||t.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},e.fromExtendedJSON=function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.toExtendedJSON();return"new Double(".concat(t.$numberDouble,")")},e}();Object.defineProperty(he.prototype,"_bsontype",{value:"Double"});var pe=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t|0}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(t){return this.value.toString(t)},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(t){return t&&(t.relaxed||t.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},e}();Object.defineProperty(pe.prototype,"_bsontype",{value:"Int32"});var We=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();Object.defineProperty(We.prototype,"_bsontype",{value:"MaxKey"});var Ve=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();Object.defineProperty(Ve.prototype,"_bsontype",{value:"MinKey"});var Oo=new RegExp("^[0-9a-fA-F]{24}$"),Dt=null,Tt=Symbol("id"),_t=function(){function e(t){if(!(this instanceof e))return new e(t);var n;if(typeof t=="object"&&t&&"id"in t){if(typeof t.id!="string"&&!ArrayBuffer.isView(t.id))throw new z("Argument passed in must have an id that is of type string or Buffer");"toHexString"in t&&typeof t.toHexString=="function"?n=j.from(t.toHexString(),"hex"):n=t.id}else n=t;if(n==null||typeof n=="number")this[Tt]=e.generate(typeof n=="number"?n:void 0);else if(ArrayBuffer.isView(n)&&n.byteLength===12)this[Tt]=n instanceof j?n:Gt(n);else if(typeof n=="string")if(n.length===12){var r=j.from(n);if(r.byteLength===12)this[Tt]=r;else throw new z("Argument passed in must be a string of 12 bytes")}else if(n.length===24&&Oo.test(n))this[Tt]=j.from(n,"hex");else throw new z("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new z("Argument passed in does not match the accepted types");e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[Tt]},set:function(t){this[Tt]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(t){this.id.writeUInt32BE(t,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){typeof t!="number"&&(t=Math.floor(Date.now()/1e3));var n=e.getInc(),r=j.alloc(12);return r.writeUInt32BE(t,0),Dt===null&&(Dt=bn(5)),r[4]=Dt[0],r[5]=Dt[1],r[6]=Dt[2],r[7]=Dt[3],r[8]=Dt[4],r[11]=n&255,r[10]=n>>8&255,r[9]=n>>16&255,r},e.prototype.toString=function(t){return t?this.id.toString(t):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){if(t==null)return!1;if(t instanceof e)return this[Tt][11]===t[Tt][11]&&this[Tt].equals(t[Tt]);if(typeof t=="string"&&e.isValid(t)&&t.length===12&&jt(this.id))return t===j.prototype.toString.call(this.id,"latin1");if(typeof t=="string"&&e.isValid(t)&&t.length===24)return t.toLowerCase()===this.toHexString();if(typeof t=="string"&&e.isValid(t)&&t.length===12)return j.from(t).equals(this.id);if(typeof t=="object"&&"toHexString"in t&&typeof t.toHexString=="function"){var n=t.toHexString(),r=this.toHexString().toLowerCase();return typeof n=="string"&&n.toLowerCase()===r}return!1},e.prototype.getTimestamp=function(){var t=new Date,n=this.id.readUInt32BE(0);return t.setTime(Math.floor(n)*1e3),t},e.createPk=function(){return new e},e.createFromTime=function(t){var n=j.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)},e.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new z("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(j.from(t,"hex"))},e.isValid=function(t){if(t==null)return!1;try{return new e(t),!0}catch{return!1}},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},e.index=Math.floor(Math.random()*16777215),e}();Object.defineProperty(_t.prototype,"generate",{value:ke(function(e){return _t.generate(e)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(_t.prototype,"getInc",{value:ke(function(){return _t.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(_t.prototype,"get_inc",{value:ke(function(){return _t.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(_t,"get_inc",{value:ke(function(){return _t.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(_t.prototype,"_bsontype",{value:"ObjectID"});function No(e){return e.split("").sort().join("")}var Xt=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(this.pattern=t,this.options=No(n??""),this.pattern.indexOf("\0")!==-1)throw new D("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(this.options.indexOf("\0")!==-1)throw new D("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var r=0;r<this.options.length;r++)if(!(this.options[r]==="i"||this.options[r]==="m"||this.options[r]==="x"||this.options[r]==="l"||this.options[r]==="s"||this.options[r]==="u"))throw new D("The regular expression option [".concat(this.options[r],"] is not supported"))}return e.parseOptions=function(t){return t?t.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(t){return t=t||{},t.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t)if(typeof t.$regex!="string"){if(t.$regex._bsontype==="BSONRegExp")return t}else return new e(t.$regex,e.parseOptions(t.$options));if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new z("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(t)))},e}();Object.defineProperty(Xt.prototype,"_bsontype",{value:"BSONRegExp"});var Je=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();Object.defineProperty(Je.prototype,"_bsontype",{value:"Symbol"});var Ao=L,Pr=function(e){Pe(t,e);function t(n,r){var u=this;return u instanceof t?(L.isLong(n)?u=e.call(this,n.low,n.high,!0)||this:ce(n)&&typeof n.t<"u"&&typeof n.i<"u"?u=e.call(this,n.i,n.t,!0)||this:u=e.call(this,n,r,!0)||this,Object.defineProperty(u,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),u):new t(n,r)}return t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(n){return new t(L.fromInt(n,!0))},t.fromNumber=function(n){return new t(L.fromNumber(n,!0))},t.fromBits=function(n,r){return new t(n,r)},t.fromString=function(n,r){return new t(L.fromString(n,!0,r))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(n){return new t(n.$timestamp)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},t.MAX_VALUE=L.MAX_UNSIGNED_VALUE,t}(Ao);function Wn(e){return ce(e)&&Reflect.has(e,"_bsontype")&&typeof e._bsontype=="string"}var Vn=2147483647,Jn=-2147483648,Yn=9223372036854776e3,zn=-9223372036854776e3,bo={$oid:_t,$binary:dt,$uuid:dt,$symbol:Je,$numberInt:pe,$numberDecimal:He,$numberDouble:he,$numberLong:L,$minKey:Ve,$maxKey:We,$regex:Xt,$regularExpression:Xt,$timestamp:Pr};function qn(e,t){if(t===void 0&&(t={}),typeof e=="number"){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=Jn&&e<=Vn)return new pe(e);if(e>=zn&&e<=Yn)return L.fromNumber(e)}return new he(e)}if(e==null||typeof e!="object")return e;if(e.$undefined)return null;for(var n=Object.keys(e).filter(function(l){return l.startsWith("$")&&e[l]!=null}),r=0;r<n.length;r++){var u=bo[n[r]];if(u)return u.fromExtendedJSON(e,t)}if(e.$date!=null){var a=e.$date,f=new Date;return t.legacy?typeof a=="number"?f.setTime(a):typeof a=="string"&&f.setTime(Date.parse(a)):typeof a=="string"?f.setTime(Date.parse(a)):L.isLong(a)?f.setTime(a.toNumber()):typeof a=="number"&&t.relaxed&&f.setTime(a),f}if(e.$code!=null){var g=Object.assign({},e);return e.$scope&&(g.$scope=qn(e.$scope)),Zt.fromExtendedJSON(e)}if(kn(e)||e.$dbPointer){var s=e.$ref?e:e.$dbPointer;if(s instanceof Pt)return s;var m=Object.keys(s).filter(function(l){return l.startsWith("$")}),h=!0;if(m.forEach(function(l){["$ref","$id","$db"].indexOf(l)===-1&&(h=!1)}),h)return Pt.fromExtendedJSON(s)}return e}function To(e,t){return e.map(function(n,r){t.seenObjects.push({propertyName:"index ".concat(r),obj:null});try{return Mt(n,t)}finally{t.seenObjects.pop()}})}function un(e){var t=e.toISOString();return e.getUTCMilliseconds()!==0?t:t.slice(0,-5)+"Z"}function Mt(e,t){if((typeof e=="object"||typeof e=="function")&&e!==null){var n=t.seenObjects.findIndex(function(C){return C.obj===e});if(n!==-1){var r=t.seenObjects.map(function(C){return C.propertyName}),u=r.slice(0,n).map(function(C){return"".concat(C," -> ")}).join(""),a=r[n],f=" -> "+r.slice(n+1,r.length-1).map(function(C){return"".concat(C," -> ")}).join(""),g=r[r.length-1],s=" ".repeat(u.length+a.length/2),m="-".repeat(f.length+(a.length+g.length)/2-1);throw new z(`Converting circular structure to EJSON:
`+"    ".concat(u).concat(a).concat(f).concat(g,`
`)+"    ".concat(s,"\\").concat(m,"/"))}t.seenObjects[t.seenObjects.length-1].obj=e}if(Array.isArray(e))return To(e,t);if(e===void 0)return null;if(e instanceof Date||Be(e)){var h=e.getTime(),l=h>-1&&h<2534023188e5;return t.legacy?t.relaxed&&l?{$date:e.getTime()}:{$date:un(e)}:t.relaxed&&l?{$date:un(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(typeof e=="number"&&(!t.relaxed||!isFinite(e))){if(Math.floor(e)===e){var w=e>=Jn&&e<=Vn,S=e>=zn&&e<=Yn;if(w)return{$numberInt:e.toString()};if(S)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp||Se(e)){var A=e.flags;if(A===void 0){var O=e.toString().match(/[gimuy]*$/);O&&(A=O[0])}var I=new Xt(e.source,A);return I.toExtendedJSON(t)}return e!=null&&typeof e=="object"?$o(e,t):e}var Io={Binary:function(e){return new dt(e.value(),e.sub_type)},Code:function(e){return new Zt(e.code,e.scope)},DBRef:function(e){return new Pt(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new He(e.bytes)},Double:function(e){return new he(e.value)},Int32:function(e){return new pe(e.value)},Long:function(e){return L.fromBits(e.low!=null?e.low:e.low_,e.low!=null?e.high:e.high_,e.low!=null?e.unsigned:e.unsigned_)},MaxKey:function(){return new We},MinKey:function(){return new Ve},ObjectID:function(e){return new _t(e)},ObjectId:function(e){return new _t(e)},BSONRegExp:function(e){return new Xt(e.pattern,e.options)},Symbol:function(e){return new Je(e.value)},Timestamp:function(e){return Pr.fromBits(e.low,e.high)}};function $o(e,t){if(e==null||typeof e!="object")throw new D("not an object instance");var n=e._bsontype;if(typeof n>"u"){var r={};for(var u in e){t.seenObjects.push({propertyName:u,obj:null});try{var a=Mt(e[u],t);u==="__proto__"?Object.defineProperty(r,u,{value:a,writable:!0,enumerable:!0,configurable:!0}):r[u]=a}finally{t.seenObjects.pop()}}return r}else if(Wn(e)){var f=e;if(typeof f.toExtendedJSON!="function"){var g=Io[e._bsontype];if(!g)throw new z("Unrecognized or invalid _bsontype: "+e._bsontype);f=g(f)}return n==="Code"&&f.scope?f=new Zt(f.code,Mt(f.scope,t)):n==="DBRef"&&f.oid&&(f=new Pt(Mt(f.collection,t),Mt(f.oid,t),Mt(f.db,t),Mt(f.fields,t))),f.toExtendedJSON(t)}else throw new D("_bsontype must be a string, but was: "+typeof n)}var ln;(function(e){function t(a,f){var g=Object.assign({},{relaxed:!0,legacy:!1},f);return typeof g.relaxed=="boolean"&&(g.strict=!g.relaxed),typeof g.strict=="boolean"&&(g.relaxed=!g.strict),JSON.parse(a,function(s,m){if(s.indexOf("\0")!==-1)throw new D("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(s)));return qn(m,g)})}e.parse=t;function n(a,f,g,s){g!=null&&typeof g=="object"&&(s=g,g=0),f!=null&&typeof f=="object"&&!Array.isArray(f)&&(s=f,f=void 0,g=0);var m=Object.assign({relaxed:!0,legacy:!1},s,{seenObjects:[{propertyName:"(root)",obj:null}]}),h=Mt(a,m);return JSON.stringify(h,f,g)}e.stringify=n;function r(a,f){return f=f||{},JSON.parse(n(a,f))}e.serialize=r;function u(a,f){return f=f||{},t(JSON.stringify(a),f)}e.deserialize=u})(ln||(ln={}));var Ar,cn=An();cn.Map?Ar=cn.Map:Ar=function(){function e(t){t===void 0&&(t=[]),this._keys=[],this._values={};for(var n=0;n<t.length;n++)if(t[n]!=null){var r=t[n],u=r[0],a=r[1];this._keys.push(u),this._values[u]={v:a,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(t){var n=this._values[t];return n==null?!1:(delete this._values[t],this._keys.splice(n.i,1),!0)},e.prototype.entries=function(){var t=this,n=0;return{next:function(){var r=t._keys[n++];return{value:r!==void 0?[r,t._values[r].v]:void 0,done:r===void 0}}}},e.prototype.forEach=function(t,n){n=n||this;for(var r=0;r<this._keys.length;r++){var u=this._keys[r];t.call(n,this._values[u].v,u,n)}},e.prototype.get=function(t){return this._values[t]?this._values[t].v:void 0},e.prototype.has=function(t){return this._values[t]!=null},e.prototype.keys=function(){var t=this,n=0;return{next:function(){var r=t._keys[n++];return{value:r!==void 0?r:void 0,done:r===void 0}}}},e.prototype.set=function(t,n){return this._values[t]?(this._values[t].v=n,this):(this._keys.push(t),this._values[t]={v:n,i:this._keys.length-1},this)},e.prototype.values=function(){var t=this,n=0;return{next:function(){var r=t._keys[n++];return{value:r!==void 0?t._values[r].v:void 0,done:r===void 0}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e}();var xo=128,Lo=192,Uo=224,Mo=240,Co=248,Do=192,Ro=224,Fo=240,jo=128;function Gn(e,t,n){for(var r=0,u=t;u<n;u+=1){var a=e[u];if(r){if((a&Lo)!==jo)return!1;r-=1}else if(a&xo)if((a&Uo)===Do)r=1;else if((a&Mo)===Ro)r=2;else if((a&Co)===Fo)r=3;else return!1}return!r}var Po=L.fromNumber(so),ko=L.fromNumber(ao),hn={};function Ho(e,t,n){t=t??{};var r=t&&t.index?t.index:0,u=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(u<5)throw new D("bson size must be >= 5, is ".concat(u));if(t.allowObjectSmallerThanBufferSize&&e.length<u)throw new D("buffer length ".concat(e.length," must be >= bson size ").concat(u));if(!t.allowObjectSmallerThanBufferSize&&e.length!==u)throw new D("buffer length ".concat(e.length," must === bson size ").concat(u));if(u+r>e.byteLength)throw new D("(bson size ".concat(u," + options.index ").concat(r," must be <= buffer length ").concat(e.byteLength,")"));if(e[r+u-1]!==0)throw new D("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return Oe(e,r,t,n)}var Wo=/^\$ref$|^\$id$|^\$db$/;function Oe(e,t,n,r){r===void 0&&(r=!1);var u=n.evalFunctions==null?!1:n.evalFunctions,a=n.cacheFunctions==null?!1:n.cacheFunctions,f=n.fieldsAsRaw==null?null:n.fieldsAsRaw,g=n.raw==null?!1:n.raw,s=typeof n.bsonRegExp=="boolean"?n.bsonRegExp:!1,m=n.promoteBuffers==null?!1:n.promoteBuffers,h=n.promoteLongs==null?!0:n.promoteLongs,l=n.promoteValues==null?!0:n.promoteValues,w=n.validation==null?{utf8:!0}:n.validation,S=!0,A,O=new Set,I=w.utf8;if(typeof I=="boolean")A=I;else{S=!1;var C=Object.keys(I).map(function(Z){return I[Z]});if(C.length===0)throw new D("UTF-8 validation setting cannot be empty");if(typeof C[0]!="boolean")throw new D("Invalid UTF-8 validation option, must specify boolean values");if(A=C[0],!C.every(function(Z){return Z===A}))throw new D("Invalid UTF-8 validation option - keys must be all true or all false")}if(!S)for(var P=0,H=Object.keys(I);P<H.length;P++){var N=H[P];O.add(N)}var R=t;if(e.length<5)throw new D("corrupt bson message < 5 bytes long");var Y=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(Y<5||Y>e.length)throw new D("corrupt bson message");for(var W=r?[]:{},ht=0,Et=!1,lt=r?!1:null,yt=new DataView(e.buffer,e.byteOffset,e.byteLength);!Et;){var F=e[t++];if(F===0)break;for(var U=t;e[U]!==0&&U<e.length;)U++;if(U>=e.byteLength)throw new D("Bad BSON Document: illegal CString");var et=r?ht++:e.toString("utf8",t,U),ft=!0;S||O.has(et)?ft=A:ft=!A,lt!==!1&&et[0]==="$"&&(lt=Wo.test(et));var M=void 0;if(t=U+1,F===In){var x=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(x<=0||x>e.length-t||e[t+x-1]!==0)throw new D("bad string length in bson");M=_e(e,t,t+x-1,ft),t=t+x}else if(F===xn){var v=j.alloc(12);e.copy(v,0,t,t+12),M=new _t(v),t=t+12}else if(F===xe&&l===!1)M=new pe(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(F===xe)M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(F===Ie&&l===!1)M=new he(yt.getFloat64(t,!0)),t=t+8;else if(F===Ie)M=yt.getFloat64(t,!0),t=t+8;else if(F===Un){var d=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,_=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;M=new Date(new L(d,_).toNumber())}else if(F===Ln){if(e[t]!==0&&e[t]!==1)throw new D("illegal boolean type value");M=e[t++]===1}else if(F===Dr){var T=t,$=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if($<=0||$>e.length-t)throw new D("bad embedded document length in bson");if(g)M=e.slice(t,t+$);else{var G=n;S||(G=Yt(Yt({},n),{validation:{utf8:ft}})),M=Oe(e,T,G,!1)}t=t+$}else if(F===$n){var T=t,$=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,b=n,rt=t+$;if(f&&f[et]){b={};for(var pt in n)b[pt]=n[pt];b.raw=!0}if(S||(b=Yt(Yt({},b),{validation:{utf8:ft}})),M=Oe(e,T,b,!0),t=t+$,e[t-1]!==0)throw new D("invalid array terminator byte");if(t!==rt)throw new D("corrupted array bson")}else if(F===fo)M=void 0;else if(F===Fr)M=null;else if(F===Rn){var d=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,_=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,Q=new L(d,_);h&&l===!0?M=Q.lessThanOrEqual(Po)&&Q.greaterThanOrEqual(ko)?Q.toNumber():Q:M=Q}else if(F===Fn){var Ut=j.alloc(16);e.copy(Ut,0,t,t+16),t=t+16;var St=new He(Ut);"toObject"in St&&typeof St.toObject=="function"?M=St.toObject():M=St}else if(F===Rr){var q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,Lt=q,ct=e[t++];if(q<0)throw new D("Negative binary type element size found");if(q>e.byteLength)throw new D("Binary type size larger than document size");if(e.slice!=null){if(ct===dt.SUBTYPE_BYTE_ARRAY){if(q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,q<0)throw new D("Negative binary type element size found for subtype 0x02");if(q>Lt-4)throw new D("Binary type with subtype 0x02 contains too long binary size");if(q<Lt-4)throw new D("Binary type with subtype 0x02 contains too short binary size")}m&&l?M=e.slice(t,t+q):(M=new dt(e.slice(t,t+q),ct),ct===Le&&(M=M.toUUID()))}else{var kt=j.alloc(q);if(ct===dt.SUBTYPE_BYTE_ARRAY){if(q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,q<0)throw new D("Negative binary type element size found for subtype 0x02");if(q>Lt-4)throw new D("Binary type with subtype 0x02 contains too long binary size");if(q<Lt-4)throw new D("Binary type with subtype 0x02 contains too short binary size")}for(U=0;U<q;U++)kt[U]=e[t+U];m&&l?M=kt:ct===Le?M=new dt(e.slice(t,t+q),ct).toUUID():M=new dt(e.slice(t,t+q),ct)}t=t+q}else if(F===$e&&s===!1){for(U=t;e[U]!==0&&U<e.length;)U++;if(U>=e.length)throw new D("Bad BSON Document: illegal CString");var ee=e.toString("utf8",t,U);for(t=U+1,U=t;e[U]!==0&&U<e.length;)U++;if(U>=e.length)throw new D("Bad BSON Document: illegal CString");var c=e.toString("utf8",t,U);t=U+1;var i=new Array(c.length);for(U=0;U<c.length;U++)switch(c[U]){case"m":i[U]="m";break;case"s":i[U]="g";break;case"i":i[U]="i";break}M=new RegExp(ee,i.join(""))}else if(F===$e&&s===!0){for(U=t;e[U]!==0&&U<e.length;)U++;if(U>=e.length)throw new D("Bad BSON Document: illegal CString");var ee=e.toString("utf8",t,U);for(t=U+1,U=t;e[U]!==0&&U<e.length;)U++;if(U>=e.length)throw new D("Bad BSON Document: illegal CString");var c=e.toString("utf8",t,U);t=U+1,M=new Xt(ee,c)}else if(F===Mn){var x=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(x<=0||x>e.length-t||e[t+x-1]!==0)throw new D("bad string length in bson");var o=_e(e,t,t+x-1,ft);M=l?o:new Je(o),t=t+x}else if(F===Dn){var d=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,_=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;M=new Pr(d,_)}else if(F===jn)M=new Ve;else if(F===Pn)M=new We;else if(F===jr){var x=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(x<=0||x>e.length-t||e[t+x-1]!==0)throw new D("bad string length in bson");var p=_e(e,t,t+x-1,ft);u?a?M=de(p,hn,W):M=de(p):M=new Zt(p),t=t+x}else if(F===Cn){var y=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(y<4+4+4+1)throw new D("code_w_scope total size shorter minimum expected length");var x=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(x<=0||x>e.length-t||e[t+x-1]!==0)throw new D("bad string length in bson");var p=_e(e,t,t+x-1,ft);t=t+x;var T=t,$=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,E=Oe(e,T,n,!1);if(t=t+$,y<4+4+$+x)throw new D("code_w_scope total size is too short, truncating scope");if(y>4+4+$+x)throw new D("code_w_scope total size is too long, clips outer document");u?(a?M=de(p,hn,W):M=de(p),M.scope=E):M=new Zt(p,E)}else if(F===uo){var x=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(x<=0||x>e.length-t||e[t+x-1]!==0)throw new D("bad string length in bson");if(w!=null&&w.utf8&&!Gn(e,t,t+x-1))throw new D("Invalid UTF-8 string in BSON document");var B=e.toString("utf8",t,t+x-1);t=t+x;var k=j.alloc(12);e.copy(k,0,t,t+12);var v=new _t(k);t=t+12,M=new Pt(B,v)}else throw new D("Detected unknown BSON type ".concat(F.toString(16),' for fieldname "').concat(et,'"'));et==="__proto__"?Object.defineProperty(W,et,{value:M,writable:!0,enumerable:!0,configurable:!0}):W[et]=M}if(Y!==t-R)throw r?new D("corrupt array bson"):new D("corrupt object bson");if(!lt)return W;if(kn(W)){var V=Object.assign({},W);return delete V.$ref,delete V.$id,delete V.$db,new Pt(W.$ref,W.$id,W.$db,V)}return W}function de(e,t,n){return t?(t[e]==null&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}function _e(e,t,n,r){var u=e.toString("utf8",t,n);if(r){for(var a=0;a<u.length;a++)if(u.charCodeAt(a)===65533){if(!Gn(e,t,n))throw new D("Invalid UTF-8 string in BSON document");break}}return u}var Ue=/\x00/,pn=new Set(["$db","$ref","$id","$clusterTime"]);function er(e,t,n,r,u){e[r++]=In;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+a+1,e[r-1]=0;var f=e.write(n,r+4,void 0,"utf8");return e[r+3]=f+1>>24&255,e[r+2]=f+1>>16&255,e[r+1]=f+1>>8&255,e[r]=f+1&255,r=r+4+f,e[r++]=0,r}var ae=new Uint8Array(8),Zn=new DataView(ae.buffer,ae.byteOffset,ae.byteLength);function rr(e,t,n,r,u){if(Number.isInteger(n)&&n>=oo&&n<=io){e[r++]=xe;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+a,e[r++]=0,e[r++]=n&255,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255}else{e[r++]=Ie;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+a,e[r++]=0,Zn.setFloat64(0,n,!0),e.set(ae,r),r=r+8}return r}function oe(e,t,n,r,u){e[r++]=Fr;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r=r+a,e[r++]=0,r}function nr(e,t,n,r,u){e[r++]=Ln;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r=r+a,e[r++]=0,e[r++]=n?1:0,r}function ir(e,t,n,r,u){e[r++]=Un;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+a,e[r++]=0;var f=L.fromNumber(n.getTime()),g=f.getLowBits(),s=f.getHighBits();return e[r++]=g&255,e[r++]=g>>8&255,e[r++]=g>>16&255,e[r++]=g>>24&255,e[r++]=s&255,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function or(e,t,n,r,u){e[r++]=$e;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");if(r=r+a,e[r++]=0,n.source&&n.source.match(Ue)!=null)throw Error("value "+n.source+" must not contain null bytes");return r=r+e.write(n.source,r,void 0,"utf8"),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function sr(e,t,n,r,u){e[r++]=$e;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");if(r=r+a,e[r++]=0,n.pattern.match(Ue)!=null)throw Error("pattern "+n.pattern+" must not contain null bytes");return r=r+e.write(n.pattern,r,void 0,"utf8"),e[r++]=0,r=r+e.write(n.options.split("").sort().join(""),r,void 0,"utf8"),e[r++]=0,r}function ar(e,t,n,r,u){n===null?e[r++]=Fr:n._bsontype==="MinKey"?e[r++]=jn:e[r++]=Pn;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r=r+a,e[r++]=0,r}function fr(e,t,n,r,u){e[r++]=xn;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");if(r=r+a,e[r++]=0,typeof n.id=="string")e.write(n.id,r,void 0,"binary");else if(jt(n.id))e.set(n.id.subarray(0,12),r);else throw new z("object ["+JSON.stringify(n)+"] is not a valid ObjectId");return r+12}function ur(e,t,n,r,u){e[r++]=Rr;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+a,e[r++]=0;var f=n.length;return e[r++]=f&255,e[r++]=f>>8&255,e[r++]=f>>16&255,e[r++]=f>>24&255,e[r++]=lo,e.set(Gt(n),r),r=r+f,r}function lr(e,t,n,r,u,a,f,g,s,m){u===void 0&&(u=!1),a===void 0&&(a=0),f===void 0&&(f=!1),g===void 0&&(g=!0),s===void 0&&(s=!1),m===void 0&&(m=[]);for(var h=0;h<m.length;h++)if(m[h]===n)throw new D("cyclic dependency detected");m.push(n),e[r++]=Array.isArray(n)?$n:Dr;var l=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+l,e[r++]=0;var w=Ye(e,n,u,r,a+1,f,g,m);return m.pop(),w}function cr(e,t,n,r,u){e[r++]=Fn;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r=r+a,e[r++]=0,e.set(n.bytes.subarray(0,16),r),r+16}function hr(e,t,n,r,u){e[r++]=n._bsontype==="Long"?Rn:Dn;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+a,e[r++]=0;var f=n.getLowBits(),g=n.getHighBits();return e[r++]=f&255,e[r++]=f>>8&255,e[r++]=f>>16&255,e[r++]=f>>24&255,e[r++]=g&255,e[r++]=g>>8&255,e[r++]=g>>16&255,e[r++]=g>>24&255,r}function pr(e,t,n,r,u){n=n.valueOf(),e[r++]=xe;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r=r+a,e[r++]=0,e[r++]=n&255,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function gr(e,t,n,r,u){e[r++]=Ie;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r=r+a,e[r++]=0,Zn.setFloat64(0,n.value,!0),e.set(ae,r),r=r+8,r}function mr(e,t,n,r,u,a,f){e[r++]=jr;var g=f?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+g,e[r++]=0;var s=Gi(n),m=e.write(s,r+4,void 0,"utf8")+1;return e[r]=m&255,e[r+1]=m>>8&255,e[r+2]=m>>16&255,e[r+3]=m>>24&255,r=r+4+m-1,e[r++]=0,r}function yr(e,t,n,r,u,a,f,g,s){if(u===void 0&&(u=!1),a===void 0&&(a=0),f===void 0&&(f=!1),g===void 0&&(g=!0),s===void 0&&(s=!1),n.scope&&typeof n.scope=="object"){e[r++]=Cn;var m=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+m,e[r++]=0;var h=r,l=typeof n.code=="string"?n.code:n.code.toString();r=r+4;var w=e.write(l,r+4,void 0,"utf8")+1;e[r]=w&255,e[r+1]=w>>8&255,e[r+2]=w>>16&255,e[r+3]=w>>24&255,e[r+4+w-1]=0,r=r+w+4;var S=Ye(e,n.scope,u,r,a+1,f,g);r=S-1;var A=S-h;e[h++]=A&255,e[h++]=A>>8&255,e[h++]=A>>16&255,e[h++]=A>>24&255,e[r++]=0}else{e[r++]=jr;var m=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+m,e[r++]=0;var l=n.code.toString(),O=e.write(l,r+4,void 0,"utf8")+1;e[r]=O&255,e[r+1]=O>>8&255,e[r+2]=O>>16&255,e[r+3]=O>>24&255,r=r+4+O-1,e[r++]=0}return r}function wr(e,t,n,r,u){e[r++]=Rr;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+a,e[r++]=0;var f=n.value(!0),g=n.position;return n.sub_type===dt.SUBTYPE_BYTE_ARRAY&&(g=g+4),e[r++]=g&255,e[r++]=g>>8&255,e[r++]=g>>16&255,e[r++]=g>>24&255,e[r++]=n.sub_type,n.sub_type===dt.SUBTYPE_BYTE_ARRAY&&(g=g-4,e[r++]=g&255,e[r++]=g>>8&255,e[r++]=g>>16&255,e[r++]=g>>24&255),e.set(f,r),r=r+n.position,r}function dr(e,t,n,r,u){e[r++]=Mn;var a=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+a,e[r++]=0;var f=e.write(n.value,r+4,void 0,"utf8")+1;return e[r]=f&255,e[r+1]=f>>8&255,e[r+2]=f>>16&255,e[r+3]=f>>24&255,r=r+4+f-1,e[r++]=0,r}function _r(e,t,n,r,u,a,f){e[r++]=Dr;var g=f?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+g,e[r++]=0;var s=r,m={$ref:n.collection||n.namespace,$id:n.oid};n.db!=null&&(m.$db=n.db),m=Object.assign(m,n.fields);var h=Ye(e,m,!1,r,u+1,a),l=h-s;return e[s++]=l&255,e[s++]=l>>8&255,e[s++]=l>>16&255,e[s++]=l>>24&255,h}function Ye(e,t,n,r,u,a,f,g){n===void 0&&(n=!1),r===void 0&&(r=0),u===void 0&&(u=0),a===void 0&&(a=!1),f===void 0&&(f=!0),g===void 0&&(g=[]),r=r||0,g=g||[],g.push(t);var s=r+4;if(Array.isArray(t))for(var m=0;m<t.length;m++){var h="".concat(m),l=t[m];if(typeof(l==null?void 0:l.toBSON)=="function"&&(l=l.toBSON()),typeof l=="string")s=er(e,h,l,s,!0);else if(typeof l=="number")s=rr(e,h,l,s,!0);else{if(typeof l=="bigint")throw new z("Unsupported type BigInt, please use Decimal128");if(typeof l=="boolean")s=nr(e,h,l,s,!0);else if(l instanceof Date||Be(l))s=ir(e,h,l,s,!0);else if(l===void 0)s=oe(e,h,l,s,!0);else if(l===null)s=oe(e,h,l,s,!0);else if(l._bsontype==="ObjectId"||l._bsontype==="ObjectID")s=fr(e,h,l,s,!0);else if(jt(l))s=ur(e,h,l,s,!0);else if(l instanceof RegExp||Se(l))s=or(e,h,l,s,!0);else if(typeof l=="object"&&l._bsontype==null)s=lr(e,h,l,s,n,u,a,f,!0,g);else if(typeof l=="object"&&Wn(l)&&l._bsontype==="Decimal128")s=cr(e,h,l,s,!0);else if(l._bsontype==="Long"||l._bsontype==="Timestamp")s=hr(e,h,l,s,!0);else if(l._bsontype==="Double")s=gr(e,h,l,s,!0);else if(typeof l=="function"&&a)s=mr(e,h,l,s,n,u,!0);else if(l._bsontype==="Code")s=yr(e,h,l,s,n,u,a,f,!0);else if(l._bsontype==="Binary")s=wr(e,h,l,s,!0);else if(l._bsontype==="Symbol")s=dr(e,h,l,s,!0);else if(l._bsontype==="DBRef")s=_r(e,h,l,s,u,a,!0);else if(l._bsontype==="BSONRegExp")s=sr(e,h,l,s,!0);else if(l._bsontype==="Int32")s=pr(e,h,l,s,!0);else if(l._bsontype==="MinKey"||l._bsontype==="MaxKey")s=ar(e,h,l,s,!0);else if(typeof l._bsontype<"u")throw new z("Unrecognized or invalid _bsontype: ".concat(String(l._bsontype)))}}else if(t instanceof Ar||ro(t))for(var w=t.entries(),S=!1;!S;){var A=w.next();if(S=!!A.done,!S){var h=A.value[0],l=A.value[1],O=typeof l;if(typeof h=="string"&&!pn.has(h)){if(h.match(Ue)!=null)throw Error("key "+h+" must not contain null bytes");if(n){if(h[0]==="$")throw Error("key "+h+" must not start with '$'");if(~h.indexOf("."))throw Error("key "+h+" must not contain '.'")}}if(O==="string")s=er(e,h,l,s);else if(O==="number")s=rr(e,h,l,s);else{if(O==="bigint"||to(l)||eo(l))throw new z("Unsupported type BigInt, please use Decimal128");if(O==="boolean")s=nr(e,h,l,s);else if(l instanceof Date||Be(l))s=ir(e,h,l,s);else if(l===null||l===void 0&&f===!1)s=oe(e,h,l,s);else if(l._bsontype==="ObjectId"||l._bsontype==="ObjectID")s=fr(e,h,l,s);else if(jt(l))s=ur(e,h,l,s);else if(l instanceof RegExp||Se(l))s=or(e,h,l,s);else if(O==="object"&&l._bsontype==null)s=lr(e,h,l,s,n,u,a,f,!1,g);else if(O==="object"&&l._bsontype==="Decimal128")s=cr(e,h,l,s);else if(l._bsontype==="Long"||l._bsontype==="Timestamp")s=hr(e,h,l,s);else if(l._bsontype==="Double")s=gr(e,h,l,s);else if(l._bsontype==="Code")s=yr(e,h,l,s,n,u,a,f);else if(typeof l=="function"&&a)s=mr(e,h,l,s,n,u,a);else if(l._bsontype==="Binary")s=wr(e,h,l,s);else if(l._bsontype==="Symbol")s=dr(e,h,l,s);else if(l._bsontype==="DBRef")s=_r(e,h,l,s,u,a);else if(l._bsontype==="BSONRegExp")s=sr(e,h,l,s);else if(l._bsontype==="Int32")s=pr(e,h,l,s);else if(l._bsontype==="MinKey"||l._bsontype==="MaxKey")s=ar(e,h,l,s);else if(typeof l._bsontype<"u")throw new z("Unrecognized or invalid _bsontype: ".concat(String(l._bsontype)))}}}else{if(typeof(t==null?void 0:t.toBSON)=="function"&&(t=t.toBSON(),t!=null&&typeof t!="object"))throw new z("toBSON function did not return an object");for(var h in t){var l=t[h];typeof(l==null?void 0:l.toBSON)=="function"&&(l=l.toBSON());var O=typeof l;if(typeof h=="string"&&!pn.has(h)){if(h.match(Ue)!=null)throw Error("key "+h+" must not contain null bytes");if(n){if(h[0]==="$")throw Error("key "+h+" must not start with '$'");if(~h.indexOf("."))throw Error("key "+h+" must not contain '.'")}}if(O==="string")s=er(e,h,l,s);else if(O==="number")s=rr(e,h,l,s);else{if(O==="bigint")throw new z("Unsupported type BigInt, please use Decimal128");if(O==="boolean")s=nr(e,h,l,s);else if(l instanceof Date||Be(l))s=ir(e,h,l,s);else if(l===void 0)f===!1&&(s=oe(e,h,l,s));else if(l===null)s=oe(e,h,l,s);else if(l._bsontype==="ObjectId"||l._bsontype==="ObjectID")s=fr(e,h,l,s);else if(jt(l))s=ur(e,h,l,s);else if(l instanceof RegExp||Se(l))s=or(e,h,l,s);else if(O==="object"&&l._bsontype==null)s=lr(e,h,l,s,n,u,a,f,!1,g);else if(O==="object"&&l._bsontype==="Decimal128")s=cr(e,h,l,s);else if(l._bsontype==="Long"||l._bsontype==="Timestamp")s=hr(e,h,l,s);else if(l._bsontype==="Double")s=gr(e,h,l,s);else if(l._bsontype==="Code")s=yr(e,h,l,s,n,u,a,f);else if(typeof l=="function"&&a)s=mr(e,h,l,s,n,u,a);else if(l._bsontype==="Binary")s=wr(e,h,l,s);else if(l._bsontype==="Symbol")s=dr(e,h,l,s);else if(l._bsontype==="DBRef")s=_r(e,h,l,s,u,a);else if(l._bsontype==="BSONRegExp")s=sr(e,h,l,s);else if(l._bsontype==="Int32")s=pr(e,h,l,s);else if(l._bsontype==="MinKey"||l._bsontype==="MaxKey")s=ar(e,h,l,s);else if(typeof l._bsontype<"u")throw new z("Unrecognized or invalid _bsontype: ".concat(String(l._bsontype)))}}}g.pop(),e[s++]=0;var I=s-r;return e[r++]=I&255,e[r++]=I>>8&255,e[r++]=I>>16&255,e[r++]=I>>24&255,s}var Xn=1024*1024*17,ve=j.alloc(Xn);function Vo(e,t){t===void 0&&(t={});var n=typeof t.checkKeys=="boolean"?t.checkKeys:!1,r=typeof t.serializeFunctions=="boolean"?t.serializeFunctions:!1,u=typeof t.ignoreUndefined=="boolean"?t.ignoreUndefined:!0,a=typeof t.minInternalBufferSize=="number"?t.minInternalBufferSize:Xn;ve.length<a&&(ve=j.alloc(a));var f=Ye(ve,e,n,0,0,r,u,[]),g=j.alloc(f);return ve.copy(g,0,0,g.length),g}function vr(e,t){return t===void 0&&(t={}),Ho(e instanceof j?e:Gt(e),t)}var Jo=li();const se=Mr(Jo);var Yo={success:{required:["status","data"],allowed:["status","data"]},fail:{required:["status","data"],allowed:["status","data"]},error:{required:["status","message"],allowed:["status","message","data","code"]}};function zo(e,t){return e.every(function(n){return n in t})}function qo(e,t){return Object.keys(t).every(function(n){return~e.indexOf(n)})}function gn(e,t){e=e||{},t=t||{};function n(s){var m=Yo[s&&s.status],h=!!m&&zo(m.required,s);return e.strict&&(h=h&&qo(m.allowed,s)),h}function r(s,m){if(n(s)||(s={status:"error",message:"Invalid jsend object.",data:{originalObject:s}}),s.status==="success")m(null,s.data);else{var h=new Error(s.message||"Jsend response status: "+s.status);"code"in s&&(h.code=s.code),"data"in s&&(h.data=s.data),m(h,s.data)}}function u(s,m){return arguments.length===1&&s.length===2&&(m=s[1],s=s[0]),s?(m={status:"error",message:typeof s=="string"?s:s&&s.message||"Unknown error. (jsend)"},s&&s.stack&&(m.data={stack:s.stack})):m===void 0?m={status:"error",message:"No data returned."}:n(m)||(m={status:"success",data:m}),m}function a(s){if(s===void 0)throw new Error('"data" must be defined when calling jsend.success. (jsend)');return{status:"success",data:s&&s.status==="success"&&n(s)?s.data:s}}function f(s){if(s===void 0)throw new Error('"data" must be defined when calling jsend.fail. (jsend)');return{status:"fail",data:s&&s.status==="fail"&&n(s)?s.data:s}}function g(s,m){var h={status:"error"};if(typeof s=="string")h.message=s,m&&(m.code!==void 0&&(h.code=m.code),m.data!==void 0&&(h.data=m.data));else if(s&&s.message)h.message=s.message,s.code!==void 0&&(h.code=s.code),s.data!==void 0&&(h.data=s.data);else throw new Error('"message" must be defined when calling jsend.error. (jsend)');return h}return t.isValid=n,t.forward=r,t.fromArguments=u,t.success=a,t.fail=f,t.error=g,t.middleware=function(s,m,h){var l=m.jsend=function(w,S){m.json(u(w,S))};l.success=function(w){m.json(a(w))},l.fail=function(w){m.json(f(w))},l.error=function(w){m.json(g(w))},h()},t}var Go=gn(null,gn);const Kn=Mr(Go);function mn(e,t,n,r,u,a,f){try{var g=e[a](f),s=g.value}catch(m){n(m);return}g.done?t(s):Promise.resolve(s).then(r,u)}function Ct(e){return function(){var t=this,n=arguments;return new Promise(function(r,u){var a=e.apply(t,n);function f(s){mn(a,r,u,f,g,"next",s)}function g(s){mn(a,r,u,f,g,"throw",s)}f(void 0)})}}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e,t,n){return t&&yn(e.prototype,t),n&&yn(e,n),e}function Xo(e,t){return t={exports:{}},e(t,t.exports),t.exports}var mt=Xo(function(e){var t=function(n){var r=Object.prototype,u=r.hasOwnProperty,a,f=typeof Symbol=="function"?Symbol:{},g=f.iterator||"@@iterator",s=f.asyncIterator||"@@asyncIterator",m=f.toStringTag||"@@toStringTag";function h(v,d,_){return Object.defineProperty(v,d,{value:_,enumerable:!0,configurable:!0,writable:!0}),v[d]}try{h({},"")}catch{h=function(d,_,T){return d[_]=T}}function l(v,d,_,T){var $=d&&d.prototype instanceof P?d:P,G=Object.create($.prototype),b=new ft(T||[]);return G._invoke=yt(v,_,b),G}n.wrap=l;function w(v,d,_){try{return{type:"normal",arg:v.call(d,_)}}catch(T){return{type:"throw",arg:T}}}var S="suspendedStart",A="suspendedYield",O="executing",I="completed",C={};function P(){}function H(){}function N(){}var R={};R[g]=function(){return this};var Y=Object.getPrototypeOf,W=Y&&Y(Y(M([])));W&&W!==r&&u.call(W,g)&&(R=W);var ht=N.prototype=P.prototype=Object.create(R);H.prototype=ht.constructor=N,N.constructor=H,H.displayName=h(N,m,"GeneratorFunction");function Et(v){["next","throw","return"].forEach(function(d){h(v,d,function(_){return this._invoke(d,_)})})}n.isGeneratorFunction=function(v){var d=typeof v=="function"&&v.constructor;return d?d===H||(d.displayName||d.name)==="GeneratorFunction":!1},n.mark=function(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,N):(v.__proto__=N,h(v,m,"GeneratorFunction")),v.prototype=Object.create(ht),v},n.awrap=function(v){return{__await:v}};function lt(v,d){function _(G,b,rt,pt){var Q=w(v[G],v,b);if(Q.type==="throw")pt(Q.arg);else{var Ut=Q.arg,St=Ut.value;return St&&typeof St=="object"&&u.call(St,"__await")?d.resolve(St.__await).then(function(q){_("next",q,rt,pt)},function(q){_("throw",q,rt,pt)}):d.resolve(St).then(function(q){Ut.value=q,rt(Ut)},function(q){return _("throw",q,rt,pt)})}}var T;function $(G,b){function rt(){return new d(function(pt,Q){_(G,b,pt,Q)})}return T=T?T.then(rt,rt):rt()}this._invoke=$}Et(lt.prototype),lt.prototype[s]=function(){return this},n.AsyncIterator=lt,n.async=function(v,d,_,T,$){$===void 0&&($=Promise);var G=new lt(l(v,d,_,T),$);return n.isGeneratorFunction(d)?G:G.next().then(function(b){return b.done?b.value:G.next()})};function yt(v,d,_){var T=S;return function(G,b){if(T===O)throw new Error("Generator is already running");if(T===I){if(G==="throw")throw b;return x()}for(_.method=G,_.arg=b;;){var rt=_.delegate;if(rt){var pt=F(rt,_);if(pt){if(pt===C)continue;return pt}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(T===S)throw T=I,_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);T=O;var Q=w(v,d,_);if(Q.type==="normal"){if(T=_.done?I:A,Q.arg===C)continue;return{value:Q.arg,done:_.done}}else Q.type==="throw"&&(T=I,_.method="throw",_.arg=Q.arg)}}}function F(v,d){var _=v.iterator[d.method];if(_===a){if(d.delegate=null,d.method==="throw"){if(v.iterator.return&&(d.method="return",d.arg=a,F(v,d),d.method==="throw"))return C;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var T=w(_,v.iterator,d.arg);if(T.type==="throw")return d.method="throw",d.arg=T.arg,d.delegate=null,C;var $=T.arg;if(!$)return d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,C;if($.done)d[v.resultName]=$.value,d.next=v.nextLoc,d.method!=="return"&&(d.method="next",d.arg=a);else return $;return d.delegate=null,C}Et(ht),h(ht,m,"Generator"),ht[g]=function(){return this},ht.toString=function(){return"[object Generator]"};function U(v){var d={tryLoc:v[0]};1 in v&&(d.catchLoc=v[1]),2 in v&&(d.finallyLoc=v[2],d.afterLoc=v[3]),this.tryEntries.push(d)}function et(v){var d=v.completion||{};d.type="normal",delete d.arg,v.completion=d}function ft(v){this.tryEntries=[{tryLoc:"root"}],v.forEach(U,this),this.reset(!0)}n.keys=function(v){var d=[];for(var _ in v)d.push(_);return d.reverse(),function T(){for(;d.length;){var $=d.pop();if($ in v)return T.value=$,T.done=!1,T}return T.done=!0,T}};function M(v){if(v){var d=v[g];if(d)return d.call(v);if(typeof v.next=="function")return v;if(!isNaN(v.length)){var _=-1,T=function $(){for(;++_<v.length;)if(u.call(v,_))return $.value=v[_],$.done=!1,$;return $.value=a,$.done=!0,$};return T.next=T}}return{next:x}}n.values=M;function x(){return{value:a,done:!0}}return ft.prototype={constructor:ft,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(et),!v)for(var d in this)d.charAt(0)==="t"&&u.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=a)},stop:function(){this.done=!0;var v=this.tryEntries[0],d=v.completion;if(d.type==="throw")throw d.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var d=this;function _(pt,Q){return G.type="throw",G.arg=v,d.next=pt,Q&&(d.method="next",d.arg=a),!!Q}for(var T=this.tryEntries.length-1;T>=0;--T){var $=this.tryEntries[T],G=$.completion;if($.tryLoc==="root")return _("end");if($.tryLoc<=this.prev){var b=u.call($,"catchLoc"),rt=u.call($,"finallyLoc");if(b&&rt){if(this.prev<$.catchLoc)return _($.catchLoc,!0);if(this.prev<$.finallyLoc)return _($.finallyLoc)}else if(b){if(this.prev<$.catchLoc)return _($.catchLoc,!0)}else if(rt){if(this.prev<$.finallyLoc)return _($.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(v,d){for(var _=this.tryEntries.length-1;_>=0;--_){var T=this.tryEntries[_];if(T.tryLoc<=this.prev&&u.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var $=T;break}}$&&(v==="break"||v==="continue")&&$.tryLoc<=d&&d<=$.finallyLoc&&($=null);var G=$?$.completion:{};return G.type=v,G.arg=d,$?(this.method="next",this.next=$.finallyLoc,C):this.complete(G)},complete:function(v,d){if(v.type==="throw")throw v.arg;return v.type==="break"||v.type==="continue"?this.next=v.arg:v.type==="return"?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):v.type==="normal"&&d&&(this.next=d),C},finish:function(v){for(var d=this.tryEntries.length-1;d>=0;--d){var _=this.tryEntries[d];if(_.finallyLoc===v)return this.complete(_.completion,_.afterLoc),et(_),C}},catch:function(v){for(var d=this.tryEntries.length-1;d>=0;--d){var _=this.tryEntries[d];if(_.tryLoc===v){var T=_.completion;if(T.type==="throw"){var $=T.arg;et(_)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(v,d,_){return this.delegate={iterator:M(v),resultName:d,nextLoc:_},this.method==="next"&&(this.arg=a),C}},n}(e.exports);try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}}),Me;(function(e){e.SIGN="sign",e.PRIVATE_KEY="private_key"})(Me||(Me={}));function Er(e){return br.apply(this,arguments)}function br(){return br=Ct(mt.mark(function e(t){return mt.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var u=Ct(mt.mark(function a(f,g){var s;return mt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s={result:!1},window.__onPartisiaConfirmWin(t,s),h.next=4,Qn(s,-1);case 4:Kn.forward(s.result,function(l,w){l&&g(l),f(w)});case 5:case"end":return h.stop()}},a)}));return function(a,f){return u.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},e)})),br.apply(this,arguments)}function Sr(e){return Tr.apply(this,arguments)}function Tr(){return Tr=Ct(mt.mark(function e(t){return mt.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var u=Ct(mt.mark(function a(f,g){var s;return mt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s={result:!1},window.__onPartisiaWalletTabEvent(t,s),h.next=4,Qn(s,t);case 4:Kn.forward(s.result,function(l,w){l&&g(l),f(w)});case 5:case"end":return h.stop()}},a)}));return function(a,f){return u.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},e)})),Tr.apply(this,arguments)}var Qn=function(){var e=Ct(mt.mark(function t(n,r){var u;return mt.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:se(typeof r=="number"),u=function(s){return new Promise(function(m){return setTimeout(m,s)})};case 2:if(n.result!==!1){f.next=8;break}return{}.DEV&&console.log("result",n,r),f.next=6,u(300);case 6:f.next=2;break;case 8:case"end":return f.stop()}},t)}));return function(n,r){return e.apply(this,arguments)}}(),Ko=function(){function e(n){n===void 0&&(n={}),this._connection=void 0;var r=n,u=r.seed,a=r.connection;u?(this.seed=typeof u=="string"?u:qe.Buffer.from(u).toString("hex"),a&&(this._connection=a)):this.seed=Mi.randomBytes(32).toString("hex")}var t=e.prototype;return t.connect=function(){var n=Ct(mt.mark(function u(a){var f,g,s,m,h,l;return mt.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return se(typeof window.__onPartisiaConfirmWin=="function"&&typeof window.__onPartisiaWalletTabEvent=="function","Extension not Found"),f=wt.wallet.getKeyPairHD(wt.wallet.entropyToMnemonic(this.seed),0),g={payload:a,windowType:"connection",xpub:f.xpub,msgId:f.publicKey},S.next=5,Er(g);case 5:return s=S.sent,S.next=8,Sr(s.tabId);case 8:m=S.sent,h=m.payload,l=vr(wt.wallet.decryptMessage(f.privateKey,h)),this._connection={account:l,popupWindow:s};case 12:case"end":return S.stop()}},u,this)}));function r(u){return n.apply(this,arguments)}return r}(),t.signMessage=function(){var n=Ct(mt.mark(function u(a){var f,g,s,m,h,l,w,S,A,O,I,C,P;return mt.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return se(this.isConnected,"You must connect the Dapp first"),f=a.payload,g=a.payloadType,s=a.contract,m=a.dontBroadcast,h={payload:f,payloadType:g,dontBroadcast:m},g==="hex_payload"&&(se(typeof s=="string"&&(s==null?void 0:s.length)===42,"must supply Contract for hex_payload type"),h.payload=""+s+h.payload),l=this.connection.popupWindow.box,w=wt.wallet.encryptMessage(l,Vo(h)).toString("hex"),S=wt.wallet.getKeyPairHD(wt.wallet.entropyToMnemonic(this.seed),0),A={payload:w,windowType:Me.SIGN,connId:S.publicKey},N.next=10,Er(A);case 10:return O=N.sent,N.next=13,Sr(O.tabId);case 13:return I=N.sent,C=wt.wallet.getKeyPairHD(wt.wallet.entropyToMnemonic(this.seed),I.hd_idx),P=vr(wt.wallet.decryptMessage(qe.Buffer.from(C.privateKey,"hex"),I.payload)),N.abrupt("return",P);case 17:case"end":return N.stop()}},u,this)}));function r(u){return n.apply(this,arguments)}return r}(),t.requestKey=function(){var n=Ct(mt.mark(function u(){var a,f,g,s,m,h;return mt.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return se(this.isConnected,"You must connect the Dapp first"),a=wt.wallet.getKeyPairHD(wt.wallet.entropyToMnemonic(this.seed),0),f={payload:"",windowType:Me.PRIVATE_KEY,connId:a.publicKey},w.next=5,Er(f);case 5:return g=w.sent,w.next=8,Sr(g.tabId);case 8:return s=w.sent,m=wt.wallet.getKeyPairHD(wt.wallet.entropyToMnemonic(this.seed),s.hd_idx),h=vr(wt.wallet.decryptMessage(qe.Buffer.from(m.privateKey,"hex"),s.payload)),w.abrupt("return",h);case 12:case"end":return w.stop()}},u,this)}));function r(){return n.apply(this,arguments)}return r}(),Zo(e,[{key:"isConnected",get:function(){return!!this._connection}},{key:"connection",get:function(){return this._connection}}]),e}();const ti="npm:@partisiablockchain/snap",Qo=async()=>{const e=new Ko;if(await e.connect({chainId:Ge.chainId,permissions:Ge.permissions,dappName:Ge.dAppName}),e.connection)return e;throw new Error("Connection failed")},ts=async()=>{if(!("ethereum"in window))throw new Error("MetaMask is not installed");const e=window.ethereum;return await e.request({method:"wallet_requestSnaps",params:{[ti]:{}}}),e},wn=async e=>{var t;if(e)return"connection"in e?(t=e.connection)==null?void 0:t.account.address:"request"in e?await e.request({method:"wallet_invokeSnap",params:{snapId:ti,request:{method:"get_address"}}}):void 0};function es(e){let t;return{c(){t=Ce("wallet")},l(n){t=De(n,"wallet")},m(n,r){ut(n,t,r)},d(n){n&&J(t)}}}function rs(e){let t;return{c(){t=Ce(e[3])},l(n){t=De(n,e[3])},m(n,r){ut(n,t,r)},p(n,r){r&8&&ii(t,n[3])},d(n){n&&J(t)}}}function ns(e){let t,n,r,u;return t=new mi({props:{class:"material-icons","aria-label":"Wallet",$$slots:{default:[es]},$$scope:{ctx:e}}}),r=new Ei({props:{$$slots:{default:[rs]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment),n=$t(),it(r.$$.fragment)},l(a){ot(t.$$.fragment,a),n=xt(a),ot(r.$$.fragment,a)},m(a,f){st(t,a,f),ut(a,n,f),st(r,a,f),u=!0},p(a,f){const g={};f&8192&&(g.$$scope={dirty:f,ctx:a}),t.$set(g);const s={};f&8200&&(s.$$scope={dirty:f,ctx:a}),r.$set(s)},i(a){u||(X(t.$$.fragment,a),X(r.$$.fragment,a),u=!0)},o(a){K(t.$$.fragment,a),K(r.$$.fragment,a),u=!1},d(a){a&&J(n),at(t,a),at(r,a)}}}function is(e){let t,n,r,u;return t=new Te({props:{$$slots:{default:[as]},$$scope:{ctx:e}}}),t.$on("SMUI:action",e[5]),r=new Te({props:{$$slots:{default:[us]},$$scope:{ctx:e}}}),r.$on("SMUI:action",e[6]),{c(){it(t.$$.fragment),n=$t(),it(r.$$.fragment)},l(a){ot(t.$$.fragment,a),n=xt(a),ot(r.$$.fragment,a)},m(a,f){st(t,a,f),ut(a,n,f),st(r,a,f),u=!0},p(a,f){const g={};f&8192&&(g.$$scope={dirty:f,ctx:a}),t.$set(g);const s={};f&8192&&(s.$$scope={dirty:f,ctx:a}),r.$set(s)},i(a){u||(X(t.$$.fragment,a),X(r.$$.fragment,a),u=!0)},o(a){K(t.$$.fragment,a),K(r.$$.fragment,a),u=!1},d(a){a&&J(n),at(t,a),at(r,a)}}}function os(e){let t,n,r,u;return t=new Te({props:{$$slots:{default:[cs]},$$scope:{ctx:e}}}),t.$on("SMUI:action",e[9]),r=new Te({props:{$$slots:{default:[ps]},$$scope:{ctx:e}}}),r.$on("SMUI:action",e[7]),{c(){it(t.$$.fragment),n=$t(),it(r.$$.fragment)},l(a){ot(t.$$.fragment,a),n=xt(a),ot(r.$$.fragment,a)},m(a,f){st(t,a,f),ut(a,n,f),st(r,a,f),u=!0},p(a,f){const g={};f&8192&&(g.$$scope={dirty:f,ctx:a}),t.$set(g);const s={};f&8192&&(s.$$scope={dirty:f,ctx:a}),r.$set(s)},i(a){u||(X(t.$$.fragment,a),X(r.$$.fragment,a),u=!0)},o(a){K(t.$$.fragment,a),K(r.$$.fragment,a),u=!1},d(a){a&&J(n),at(t,a),at(r,a)}}}function ss(e){let t,n='<img class="logo svelte-2y8y06" src="/images/metamask.svg" alt="metamask wallet logo"/> <span>Meta Mask Wallet</span>';return{c(){t=At("div"),t.innerHTML=n,this.h()},l(r){t=bt(r,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-goc29f"&&(t.innerHTML=n),this.h()},h(){tt(t,"class","item svelte-2y8y06")},m(r,u){ut(r,t,u)},p:Ft,d(r){r&&J(t)}}}function as(e){let t,n;return t=new Fe({props:{$$slots:{default:[ss]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment)},l(r){ot(t.$$.fragment,r)},m(r,u){st(t,r,u),n=!0},p(r,u){const a={};u&8192&&(a.$$scope={dirty:u,ctx:r}),t.$set(a)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){K(t.$$.fragment,r),n=!1},d(r){at(t,r)}}}function fs(e){let t,n='<img class="logo svelte-2y8y06" src="/images/partisia-wallet.svg" alt="partisia wallet logo"/> <span>Partisia Wallet</span>';return{c(){t=At("div"),t.innerHTML=n,this.h()},l(r){t=bt(r,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1ov0ir1"&&(t.innerHTML=n),this.h()},h(){tt(t,"class","item svelte-2y8y06")},m(r,u){ut(r,t,u)},p:Ft,d(r){r&&J(t)}}}function us(e){let t,n;return t=new Fe({props:{$$slots:{default:[fs]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment)},l(r){ot(t.$$.fragment,r)},m(r,u){st(t,r,u),n=!0},p(r,u){const a={};u&8192&&(a.$$scope={dirty:u,ctx:r}),t.$set(a)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){K(t.$$.fragment,r),n=!1},d(r){at(t,r)}}}function ls(e){let t;return{c(){t=Ce("Profile")},l(n){t=De(n,"Profile")},m(n,r){ut(n,t,r)},d(n){n&&J(t)}}}function cs(e){let t,n;return t=new Fe({props:{$$slots:{default:[ls]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment)},l(r){ot(t.$$.fragment,r)},m(r,u){st(t,r,u),n=!0},p(r,u){const a={};u&8192&&(a.$$scope={dirty:u,ctx:r}),t.$set(a)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){K(t.$$.fragment,r),n=!1},d(r){at(t,r)}}}function hs(e){let t;return{c(){t=Ce("Disconnect")},l(n){t=De(n,"Disconnect")},m(n,r){ut(n,t,r)},d(n){n&&J(t)}}}function ps(e){let t,n;return t=new Fe({props:{$$slots:{default:[hs]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment)},l(r){ot(t.$$.fragment,r)},m(r,u){st(t,r,u),n=!0},p(r,u){const a={};u&8192&&(a.$$scope={dirty:u,ctx:r}),t.$set(a)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){K(t.$$.fragment,r),n=!1},d(r){at(t,r)}}}function gs(e){let t,n,r,u;const a=[os,is],f=[];function g(s,m){return s[1]?0:1}return t=g(e),n=f[t]=a[t](e),{c(){n.c(),r=Jr()},l(s){n.l(s),r=Jr()},m(s,m){f[t].m(s,m),ut(s,r,m),u=!0},p(s,m){let h=t;t=g(s),t===h?f[t].p(s,m):(si(),K(f[h],1,1,()=>{f[h]=null}),ai(),n=f[t],n?n.p(s,m):(n=f[t]=a[t](s),n.c()),X(n,1),n.m(r.parentNode,r))},i(s){u||(X(n),u=!0)},o(s){K(n),u=!1},d(s){s&&J(r),f[t].d(s)}}}function ms(e){let t,n;return t=new yi({props:{$$slots:{default:[gs]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment)},l(r){ot(t.$$.fragment,r)},m(r,u){st(t,r,u),n=!0},p(r,u){const a={};u&8194&&(a.$$scope={dirty:u,ctx:r}),t.$set(a)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){K(t.$$.fragment,r),n=!1},d(r){at(t,r)}}}function ys(e){let t,n,r,u,a;t=new vi({props:{$$slots:{default:[ns]},$$scope:{ctx:e}}}),t.$on("click",e[8]);function f(s){e[11](s)}let g={class:"menu-floating-right",anchor:!1,anchorCorner:"BOTTOM_LEFT",$$slots:{default:[ms]},$$scope:{ctx:e}};return e[0]!==void 0&&(g.anchorElement=e[0]),r=new gi({props:g}),e[10](r),le.push(()=>oi(r,"anchorElement",f)),{c(){it(t.$$.fragment),n=$t(),it(r.$$.fragment)},l(s){ot(t.$$.fragment,s),n=xt(s),ot(r.$$.fragment,s)},m(s,m){st(t,s,m),ut(s,n,m),st(r,s,m),a=!0},p(s,[m]){const h={};m&8200&&(h.$$scope={dirty:m,ctx:s}),t.$set(h);const l={};m&8194&&(l.$$scope={dirty:m,ctx:s}),!u&&m&1&&(u=!0,l.anchorElement=s[0],ni(()=>u=!1)),r.$set(l)},i(s){a||(X(t.$$.fragment,s),X(r.$$.fragment,s),a=!0)},o(s){K(t.$$.fragment,s),K(r.$$.fragment,s),a=!1},d(s){s&&J(n),at(t,s),e[10](null),at(r,s)}}}function ws(e,t,n){let r,u,a;Vr(e,ci,I=>n(12,u=I));const f=_i(me,I=>{if(I)return I.slice(0,4)+"..."+I.slice(-4)});Vr(e,f,I=>n(1,a=I));async function g(){const I=await ts();u.setSigningStrategy("MetaMask",I);const C=await wn(I);me.set(C)}async function s(){const I=await Qo();if(!I.connection)throw new Error("Connection failed");u.setSigningStrategy("partisiaSdk",I);const C=await wn(I);me.set(C)}function m(){me.set(void 0),u.resetSigningStrategy()}let h,{anchor:l}=t;const w=()=>h.setOpen(!0),S=()=>Si("/profile");function A(I){le[I?"unshift":"push"](()=>{h=I,n(2,h)})}function O(I){l=I,n(0,l)}return e.$$set=I=>{"anchor"in I&&n(0,l=I.anchor)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=a||"Connect Wallet")},[l,a,h,r,f,g,s,m,w,S,A,O]}class ds extends Qt{constructor(t){super(),te(this,t,ws,ys,Kt,{anchor:0})}}function _s(e){let t,n,r,u,a;return{c(){t=re("svg"),n=re("g"),r=re("g"),u=re("path"),a=re("path"),this.h()},l(f){t=ne(f,"svg",{version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,"xml:space":!0,class:!0});var g=Nt(t);n=ne(g,"g",{});var s=Nt(n);r=ne(s,"g",{});var m=Nt(r);u=ne(m,"path",{class:!0,d:!0}),Nt(u).forEach(J),a=ne(m,"path",{class:!0,d:!0}),Nt(a).forEach(J),m.forEach(J),s.forEach(J),g.forEach(J),this.h()},h(){tt(u,"class","st0 svelte-1apcq6f"),tt(u,"d",`M400,46.88L400,46.88c-65.52,0-118.63,53.11-118.63,118.63v72.81c25.72,0,46.58-20.85,46.58-46.58v-29.28
			c0-39.48,32-71.48,71.48-71.48h1.14c39.48,0,71.48,32,71.48,71.48v7.85c0,11.55-4.3,22.7-12.06,31.25l-92.93,102.46
			c-17.28,19.05-15.85,48.51,3.21,65.79h0l120.6-132.55c17.86-19.63,27.76-45.22,27.76-71.77v0C518.63,99.99,465.52,46.88,400,46.88
			z`),tt(a,"class","st0 svelte-1apcq6f"),tt(a,"d",`M400,452.99L400,452.99c65.52,0,118.63-53.11,118.63-118.63v-72.81c-25.72,0-46.58,20.85-46.58,46.58v29.28
			c0,39.48-32,71.48-71.48,71.48h-1.14c-39.48,0-71.48-32-71.48-71.48v-7.85c0-11.55,4.3-22.7,12.06-31.25l92.93-102.46
			c17.28-19.05,15.85-48.51-3.21-65.79h0L309.14,262.6c-17.86,19.63-27.76,45.22-27.76,71.77v0
			C281.37,399.88,334.48,452.99,400,452.99z`),tt(t,"version","1.1"),tt(t,"id","meta_names"),tt(t,"xmlns","http://www.w3.org/2000/svg"),tt(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),tt(t,"x","0px"),tt(t,"y","0px"),tt(t,"viewBox","0 -200 800 900"),tt(t,"xml:space","preserve"),tt(t,"class","svelte-1apcq6f")},m(f,g){ut(f,t,g),vt(t,n),vt(n,r),vt(r,u),vt(r,a)},p:Ft,i:Ft,o:Ft,d(f){f&&J(t)}}}class ei extends Qt{constructor(t){super(),te(this,t,null,_s,Kt,{})}}function vs(e){let t,n,r,u,a,f="Meta Names",g,s,m='<a href="mailto:metanames@proton.me" target="_blank" class="svelte-1k2txxl">Contact us</a> <a href="https://x.com/metanames_" target="_blank" class="svelte-1k2txxl">Twitter</a>',h;return r=new ei({}),{c(){t=At("footer"),n=At("div"),it(r.$$.fragment),u=$t(),a=At("span"),a.textContent=f,g=$t(),s=At("div"),s.innerHTML=m,this.h()},l(l){t=bt(l,"FOOTER",{class:!0});var w=Nt(t);n=bt(w,"DIV",{class:!0});var S=Nt(n);ot(r.$$.fragment,S),u=xt(S),a=bt(S,"SPAN",{class:!0,"data-svelte-h":!0}),ue(a)!=="svelte-1vz907r"&&(a.textContent=f),S.forEach(J),g=xt(w),s=bt(w,"DIV",{class:!0,"data-svelte-h":!0}),ue(s)!=="svelte-mz61q"&&(s.innerHTML=m),w.forEach(J),this.h()},h(){tt(a,"class","svelte-1k2txxl"),tt(n,"class","logo svelte-1k2txxl"),tt(s,"class","links svelte-1k2txxl"),tt(t,"class","svelte-1k2txxl")},m(l,w){ut(l,t,w),vt(t,n),st(r,n,null),vt(n,u),vt(n,a),vt(t,g),vt(t,s),h=!0},p:Ft,i(l){h||(X(r.$$.fragment,l),h=!0)},o(l){K(r.$$.fragment,l),h=!1},d(l){l&&J(t),at(r)}}}class Es extends Qt{constructor(t){super(),te(this,t,null,vs,Kt,{})}}function Ss(e){let t,n,r,u,a="Meta Names",f;return n=new ei({}),{c(){t=At("a"),it(n.$$.fragment),r=$t(),u=At("span"),u.textContent=a,this.h()},l(g){t=bt(g,"A",{class:!0,href:!0});var s=Nt(t);ot(n.$$.fragment,s),r=xt(s),u=bt(s,"SPAN",{"data-svelte-h":!0}),ue(u)!=="svelte-1vz907r"&&(u.textContent=a),s.forEach(J),this.h()},h(){tt(t,"class","link-logo svelte-1jz4r9p"),tt(t,"href","/")},m(g,s){ut(g,t,s),st(n,t,null),vt(t,r),vt(t,u),f=!0},p:Ft,i(g){f||(X(n.$$.fragment,g),f=!0)},o(g){K(n.$$.fragment,g),f=!1},d(g){g&&J(t),at(n)}}}function Bs(e){let t,n;return t=new Li({props:{$$slots:{default:[Ss]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment)},l(r){ot(t.$$.fragment,r)},m(r,u){st(t,r,u),n=!0},p(r,u){const a={};u&64&&(a.$$scope={dirty:u,ctx:r}),t.$set(a)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){K(t.$$.fragment,r),n=!1},d(r){at(t,r)}}}function Os(e){let t,n;return t=new ds({props:{anchor:e[0]}}),{c(){it(t.$$.fragment)},l(r){ot(t.$$.fragment,r)},m(r,u){st(t,r,u),n=!0},p(r,u){const a={};u&1&&(a.anchor=r[0]),t.$set(a)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){K(t.$$.fragment,r),n=!1},d(r){at(t,r)}}}function Ns(e){let t,n,r,u;return t=new qr({props:{$$slots:{default:[Bs]},$$scope:{ctx:e}}}),r=new qr({props:{align:"end",toolbar:!0,$$slots:{default:[Os]},$$scope:{ctx:e}}}),{c(){it(t.$$.fragment),n=$t(),it(r.$$.fragment)},l(a){ot(t.$$.fragment,a),n=xt(a),ot(r.$$.fragment,a)},m(a,f){st(t,a,f),ut(a,n,f),st(r,a,f),u=!0},p(a,f){const g={};f&64&&(g.$$scope={dirty:f,ctx:a}),t.$set(g);const s={};f&65&&(s.$$scope={dirty:f,ctx:a}),r.$set(s)},i(a){u||(X(t.$$.fragment,a),X(r.$$.fragment,a),u=!0)},o(a){K(t.$$.fragment,a),K(r.$$.fragment,a),u=!1},d(a){a&&J(n),at(t,a),at(r,a)}}}function As(e){let t,n,r,u,a,f,g;return n=new xi({props:{$$slots:{default:[Ns]},$$scope:{ctx:e}}}),{c(){t=At("div"),it(n.$$.fragment),this.h()},l(s){t=bt(s,"DIV",{class:!0});var m=Nt(t);ot(n.$$.fragment,m),m.forEach(J),this.h()},h(){tt(t,"class",r=Yr(Object.keys(e[1]).join(" "))+" svelte-1jz4r9p")},m(s,m){ut(s,t,m),st(n,t,null),e[5](t),a=!0,f||(g=fe(u=wi.call(null,t,{addClass:e[3],removeClass:e[4]})),f=!0)},p(s,m){const h={};m&65&&(h.$$scope={dirty:m,ctx:s}),n.$set(h),(!a||m&2&&r!==(r=Yr(Object.keys(s[1]).join(" "))+" svelte-1jz4r9p"))&&tt(t,"class",r),u&&Ur(u.update)&&m&2&&u.update.call(null,{addClass:s[3],removeClass:s[4]})},i(s){a||(X(n.$$.fragment,s),a=!0)},o(s){K(n.$$.fragment,s),a=!1},d(s){s&&J(t),at(n),e[5](null),f=!1,g()}}}function bs(e){let t,n,r,u,a,f;n=new $i({props:{variant:"static",$$slots:{default:[As]},$$scope:{ctx:e}}});const g=e[2].default,s=Ir(g,e,e[6],null);return a=new Es({}),{c(){t=At("main"),it(n.$$.fragment),r=$t(),s&&s.c(),u=$t(),it(a.$$.fragment),this.h()},l(m){t=bt(m,"MAIN",{class:!0});var h=Nt(t);ot(n.$$.fragment,h),r=xt(h),s&&s.l(h),u=xt(h),ot(a.$$.fragment,h),h.forEach(J),this.h()},h(){tt(t,"class","svelte-1jz4r9p")},m(m,h){ut(m,t,h),st(n,t,null),vt(t,r),s&&s.m(t,null),vt(t,u),st(a,t,null),f=!0},p(m,[h]){const l={};h&67&&(l.$$scope={dirty:h,ctx:m}),n.$set(l),s&&s.p&&(!f||h&64)&&$r(s,g,m,m[6],f?Lr(g,m[6],h,null):xr(m[6]),null)},i(m){f||(X(n.$$.fragment,m),X(s,m),X(a.$$.fragment,m),f=!0)},o(m){K(n.$$.fragment,m),K(s,m),K(a.$$.fragment,m),f=!1},d(m){m&&J(t),at(n),s&&s.d(m),at(a)}}}function Ts(e,t,n){let{$$slots:r={},$$scope:u}=t,a,f={};const g=h=>{f[h]||n(1,f[h]=!0,f)},s=h=>{f[h]&&(delete f[h],n(1,f))};function m(h){le[h?"unshift":"push"](()=>{a=h,n(0,a)})}return e.$$set=h=>{"$$scope"in h&&n(6,u=h.$$scope)},[a,f,r,g,s,m,u]}class Rs extends Qt{constructor(t){super(),te(this,t,Ts,bs,Kt,{})}}export{Rs as component};
